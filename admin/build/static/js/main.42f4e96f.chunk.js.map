{"version":3,"sources":["img/delete.png","img/polygon.png","img/logo.png","api/api.js","Components/Login.js","Components/SubTabsNavBar.js","Components/Deliveries.js","Components/InputArray.js","res/CodeMappings.js","Components/Table.js","Components/Card.js","Components/Popup.js","Components/DeliveriesSubTabs.js","Components/Parsers.js","Components/Orders.js","Components/AddItemForm.js","Components/AddItemPopup.js","Components/DeleteItemPopup.js","Components/Menu.js","Components/AddDealPopup.js","Components/Deals.js","Components/AddImagePopup.js","Components/Gallery.js","Components/AboutUs.js","Components/ContactUs.js","Components/History.js","res/res.js","Components/Settings.js","Components/Signout.js","Components/NavBar.js","Components/Footer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","api_pull","url","callback","fetch","then","response","console","log","json","data","parser","catch","e","api_push","body","method","headers","JSON","stringify","resp","Login","props","sleep","milliseconds","Promise","resolve","setTimeout","api","state","username","password","visible","incorrect","onChange","bind","onLogin","event","target","id","value","this","setState","old","a","success","window","setAuth","Cookie","set","className","class","type","placeholder","onClick","Alert","variant","show","React","Component","SubTabNavBar","page","res","admin","css_classes","DSubTabs","tabs","map","i","key","to","path","DSubTabElement","name","OverlayTrigger","placement","overlay","Tooltip","Deliveries","pages","SubTabsNavBar","DeliveriesSubTabClicked","exact","component","createElement","InputArray","inputs","classNames","MAP_C2S","0","1","2","3","MAP_C2T","TableHeading","style","headingStyle","heading","headingButton","buttonStyle","onAdd","Table","css","TableHeadingAndButtonDiv","TableAddButton","TableColumnHeadings","cols","col","TableBody","row","row_index","TableRow","colname","col_index","onRowClick","toLowerCase","items","item","quantity","width","img_w","img_h","height","alt","src","rowButton","onRowButtonClick","cssClassName","require","footerButton","footerText","onFooterButtonClick","parseOptions","options","list_name","option_choice","parseToTableFormat","_data","address","contact_no","email","Object","keys","d","dealid","deal","option_list_choices","itemid","parseItem","tstamp","date","Date","parseInt","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","substr","tstampToTime","field","toUpperCase","Card","DeliveriesButtons","inputClassNames","inputType","PopupH","children","PopupBody","PopupButtons","Popup","parse_items","obj","forEach","values","parse_option_list","parse_order","order","parse_deals","DeliveriesSubTabs","tab_id","tab","apiOrderManagement","clickHandler","onPopupClose","onOrderRejected","reloadData","parsed","_","cloneDeep","button","updatedOrder","status","edit","showpopup","reject_id","buttonscss","buttons","Parsers","parseDealOptions","final","parseItemOptions","options_lists","list","qty","ls","ol","repeated","Array","fill","parseMenuBeforePush","parseDealsBeforePush","arr","filterSelected","selected","listNames","l","ret","listName","string","ref","selected_name","filter","checked","selected_charge","charge","parseBillItem","k","price","optionsPrices","combine","lists","reduce","acc","el","parseBillDeal","parseBillEntry","entry","parseBillForPost","bill","length","Orders","options_charges","billtable","tables","right","onBillRowClick","totalBill","onGenerateBill","showPopup","showOptionsPopup","createCheckBox","hideOptionsPopup","addToBill","newdata","deals","menu","parse_menu","j","optionsToString","staged_add","table","newstate","charges","newbill","parseOptionsLists","dic","option_name","rowid","initCheckBoxState","total","showbill","option","onChecked","OrdersLeftTable","OrdersRightTable","AddItemForm","stagedOption","prefill","onAddOptionsList","onImageAdd","onDeleteOption","validate","OnDataChanged","onDeleteStaged","onStagedOptionChange","onDescriptionChange","text","file","files","reader","FileReader","dataurl","onload","result","readAsDataURL","parent","includes","new_options_lists","split","main","clense","description","isEqual","htmlFor","optionList","sorted","b","min","onNewOptionCommit","onAddOption","photo_url","AddItemPopup","onClose","DeleteItemPopup","onDataChanged","mapper","Menu","onDelete","parse_data","hidePopup","onDeletePopupClose","delete_item","updateTables","pshow","staged_delete","action","popup","changed","tableid","staged_change","add","delete","onHeadingButtonClick","ItemDropDown","onItemChange","disabled","ListItem","itemID","new","AddDealPopup","itemArray","menuToItemsArray","onRemove","onNameChange","onPriceChange","onImageUpload","index","exist","it","Deals","onDealChanged","AddImagePopup","imgHeight","imgWidth","Gallery","togglePopup","onDeleteClicked","onAddClicked","loadGallery","onImageAdded","AboutUs","originalData","loadData","onTextChange","onSave","ContactUs","phone","loadFromDB","CustomToggle","forwardRef","preventDefault","onFilterChange","handleMouseEnter","handleMouseLeave","parseData","applyFilters","filters","newState","checkBoxChange","fdata","asc","sort","time","now","filtered","sortByTime","o2n","filterType","select","filterTime","Dropdown","Toggle","as","Item","n2o","local","delivery","all","newPassword1","newPassword2","minOrder","otime","ctime","handleClick","pullFromDB","required","for","deAuth","remove","NavBarElement","NavBarDivider","NavBarDropdown","title","onMouseEnter","onMouseLeave","deauth","LogoImg","Logo","NavBar","navbar","left","dropdown","Footer","App","auth","checkAuth","cookie","get","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.42f4e96f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/delete.877e3e61.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAXCAYAAAD6FjQuAAAABHNCSVQICAgIfAhkiAAAAplJREFUSEutVU+IElEcHmccc4sFW8ookV1wgzrswQ51Er2ph06eQhA66KGLT4TdEWv9c5hhHdQH0cE1YtnzQp4UokNzHQrKU6GH8BJkLIG4ruM4xhNnV83RGdcfCIPv973vfb/53jc6AAAgCOImjuM4QRCEJElbkiRt6i4Ln/GMYxgm/z1cF0XxRrvd3sRmFwchdOkikcjzwWDwzu12D9s2NjaGP621traGWSyWCVin08ESiUS31+s9gBD+1KFViqI+ezweu9PpRCdeWZ2cnHR4nj9iWfYF2nRIBgDYIknyRyqVMqATrqJOT08xmqY7/X7/HoTw7wUZetjd3aVtNhsIhUIrYYMQnjUajZf5fD4vH36obKTOZDAYasFg8Nb29vaVxNXrdezw8PA3y7J3xje6IBsRutbX1yvpdNp4Fbb9/f3zVqvlhRB+UiRDC7FY7KPD4XB5vV5iGUKO46RKpfLl4ODg8TR+QplsFr1e/z0Wi13TegWQ1ZPJpCAIwhMI4deFZKghGo1GrVZrOhwOX9eirlwudzmOe5/JZJ7Nwv2nTG7a29ur+/1+287Ojio+ZHWGYc5FUbwrW12VMtksJEl+SKVSpJq7VygUOrVaLZvNZl8pnU5RGQLE4/G3drs94PP5yHnykNWLxeKfTCZze17fXDIAgEmv1/8CABinc298U5qmz5rNph9CWFqaDAFRUJvN5jcURc1MFp7npVKp9I1hmEeLXu5cZTJYKagXWV21QcYblYJ6kdWXIkOg6aAes/pD9K1aNEK0rmqMo6swEdTHx8ftarWan2f1pZWNB3UgEDAiqwuCcF/pAmtKEKWxoKCWJMnZ7XaDEMIjNeOTe1SPUQYgs+A4/jqXyz3VQqTpnU2506RlfDL2H5X1GyezqwhdAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/logo.520d67da.png\";","const parser = (json, url) => {\n    return json.data\n}\n\nconst api_pull = (url, callback) => {\n        fetch(url)\n        .then(response => {\n            console.log(response)\n            return response.json()\n        })\n        .then(json => callback(parser(json, url)))\n        .catch(e => console.log(e))\n}\n\nconst api_push = (url, data, callback) => {\n    let body = {\n        'data':data\n    }\n    console.log(body)\n    fetch(url, {\n        method:'POST',\n        headers: {\n            'Content-Type':'application/json'\n        },\n        body:JSON.stringify(body)\n    }).then(resp => {\n        console.log(resp)\n        return (callback)? resp.json() : null\n    }).then(json => callback(json)).catch(() => console.log('caught'))\n}\n\nconst api_pull_dummy = (url, callback) => {\n    console.log('pulling', url)\n    if(url === '/api/gallery'){\n    callback(\n        [\n            {\n                'id':\"32423254\",\n                'photo_url':'https://i.pinimg.com/originals/f6/75/b3/f675b37884d8a1a286ca391e60fb8f87.jpg'\n            },\n            {\n                'id':\"57655845\",\n                'photo_url':'https://i.pinimg.com/originals/f6/75/b3/f675b37884d8a1a286ca391e60fb8f87.jpg'\n            },\n            {\n                'id':\"45645634\",\n                'photo_url':'https://i.pinimg.com/originals/f6/75/b3/f675b37884d8a1a286ca391e60fb8f87.jpg'\n            }\n        ]\n    )\n    }\n    else if (url === '/api/aboutus') {\n        callback(\n            {\n                heading:'This is some heading',\n                body:'this is the text body'\n            }\n        )\n    }\n}\n\nexport {\n    api_pull,\n    api_push,\n    api_pull_dummy\n}\n","import React from \"react\"\nimport {api_push, api_pull} from '../api/api'\nimport Alert from 'react-bootstrap/Alert'\nimport Cookie from 'js-cookie'\n\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.api = '/admin/api/login'\n        this.state = {\n            username: '',\n            password: '',\n            visible: false,\n            incorrect: false\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onLogin = this.onLogin.bind(this)\n    }\n\n    onChange(event) {\n        const {id, value} = event.target\n        this.setState(old => {\n            return {\n                ...old,\n                [id]:value\n            }\n        })\n    }\n\n      sleep =  (milliseconds) => {\n        return new Promise (resolve => setTimeout(resolve, milliseconds))\n    }\n\n    onLogin(){\n         api_push(this.api, {...this.state}, async data => {\n            if(data.success){\n                this.setState({visible:true}, () =>{\n                    window.setTimeout(() => {\n                    this.setState({visible:false})\n            }, 2000)\n        }) \n                await this.sleep(1000) \n                this.props.setAuth()\n                Cookie.set('session', true)\n            }\n            else {\n                this.setState({incorrect:true}, () =>{\n                    window.setTimeout(() => {\n                    this.setState({incorrect:false})\n            }, 2000)\n        })\n            }\n        })\n        //this.props.setAuth()\n    }\n\n    render() {\n        return (\n            <div className=\"LoginContainer\">\n                <h1 className=\"LoginHeading\">Welcome to Smoke&Grill Admin System</h1>\n                <input class=\"form-control\"\n                    value={this.state.username} \n                    onChange={this.onChange}\n                    type=\"text\" \n                    id=\"username\"\n                    placeholder=\"Username\"\n                />\n                <input class=\"form-control\"\n                    value={this.state.password} \n                    onChange={this.onChange}\n                    type=\"password\" \n                    id=\"password\"\n                    placeholder=\"Password\"\n                />\n                <button \n                    class=\"btn btn-success\"\n                    type=\"button\"\n                    id=\"LoginButton\"\n                    onClick={this.onLogin}\n                >\n                    Login\n                </button>\n                <Alert className=\"AlertIncorrect\" variant = \"success\" show = {this.state.visible}>\n                    <strong>Welcome {this.state.username}!</strong>\n                </Alert>\n                <Alert className=\"AlertIncorrect\" variant = \"danger\" show = {this.state.incorrect}>\n                    <strong>Incorrect Username or Password!</strong>\n                </Alert>\n            </div>\n        )\n    }\n}\n\nexport default Login\n","import React from 'react'\nimport { res } from \"../res/res\"\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport Tooltip from 'react-bootstrap/Tooltip'\nimport {\n    Link\n} from \"react-router-dom\";\n\nclass SubTabNavBar extends React.Component {\n    constructor(props) {\n        super(props)\n        this.page = this.props.page\n    }\n\n    render() {\n        return (\n                <div className={res.admin.css_classes.DSubTabs}> \n                    {\n                        this.page.tabs.map((e,i) => { \n                            return (\n                                <Link \n                                    key={i} \n                                    to={`${e.path}`} >\n                                    <button type = \"button\" className = \"btn btn-success\" id={res.admin.css_classes.DSubTabElement}>\n                                        {e.name}\n                                        {e.name !== 'Delivered' ?\n                                        <OverlayTrigger \n                                            key = \"top\"\n                                            placement = \"top\"\n                                            overlay = {\n                                            <Tooltip id = \"tooltip-top\">\n                                                Number of orders {e.name}.\n                                            </Tooltip>\n                                            }\n                                        > \n                                            <span id = \"badge\" className=\"badge badge-light\"></span>\n                                        </OverlayTrigger>\n                                        : null\n                                    }\n                                    </button>\n                                </Link>\n                            )})\n                    }\n                </div>\n                )\n    }\n}\n\nexport default SubTabNavBar\n","import React from \"react\"\nimport { res } from \"../res/res\"\nimport SubTabsNavBar from \"./SubTabsNavBar\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\n\nclass Deliveries extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.page = res.admin.pages[this.props.id]\n        this.api = this.page.api\n    }\n\n\n\n    render() {\n        return (\n            <Router>\n            <div className={res.admin.css_classes.Deliveries}>\n                <SubTabsNavBar page={this.page}/>\n                <div className={res.admin.css_classes.DeliveriesSubTabClicked}>\n                {\n                    this.page.tabs.map((e, i) => {\n                        return (\n                            <Switch key={i}>\n                                <Route \n                                    exact path={`${e.path}`} \n                                    component={() => React.createElement(e.component, {'page':this.page, 'tab_id':i})} />\n                            </Switch>\n                        )})\n                }\n                </div>\n            </div>\n        </ Router>\n        )\n    }\n}\n\nexport default Deliveries\n","import React from \"react\"\n\n\nconst InputArray = (props) =>{ \n    return (\n        (props.inputs)?\n        <div>\n            {props.inputs.map( (e, i) => {\n                return (\n                    <input \n                        className = {props.classNames[i]}\n                        id = 'Accept'\n                        key={i} \n                        value={e} \n                        onClick={() => props.onClick({'name':e, 'id':i}, props.id)} \n                        type={props.type}/>\n                )})}\n            </div>\n    :\n        null\n    )\n}\n\nexport default InputArray\n","\n\nconst MAP_C2S = {\n    0:'Pending',\n    1:'In Progress',\n    2:'Completed',\n    3:'Delivered'\n}\n\nconst MAP_C2T = {\n    0:'Local',\n    1:'Delivery'\n}\n\nexport {\n    MAP_C2S,\n    MAP_C2T\n}\n","import React from \"react\"\nimport { res } from '../res/res'\n\n\nconst parseItems = (items) => {\n    if(!items) return null\n    return (\n        <div>\n            {\n                items.map((item, i) => {\n                    return <li key = {i}> {item.quantity} {item.name} </li>\n                })\n            }\n        </div>\n    )\n}\n\nconst TableHeading = (props) => {\n    return (\n        <div \n            className={props.style}\n        >\n            <h2 \n                className={props.headingStyle}\n            >\n                {props.heading}\n            </h2> \n            {\n                (props.headingButton)?\n                    <button type = \"button\" class = \"btn btn-dark\" \n                        id={props.buttonStyle} \n                        onClick={() => props.onAdd? props.onAdd(props.heading): null}\n                    > \n                        {props.headingButton} \n                    </button>\n                    :\n                    null\n            }\n        </div>\n    )\n}\n\nclass Table extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.css = res.admin.css_classes\n    }\n\n    render() {\n        return (\n            <div>\n                <TableHeading\n                    style= {this.css.TableHeadingAndButtonDiv}\n                    heading = {this.props.heading}\n                    headingStyle = {this.css.TableHeading}\n                    headingButton = {this.props.headingButton}\n                    buttonStyle = {this.css.TableAddButton}\n                    onAdd = {this.props.onAdd}\n                />\n                <table className='table table-dark table-stripped table-hover'>\n                    <thead>\n                        <tr \n                            className={this.css.TableColumnHeadings}\n                        >\n                            {\n                                this.props.cols.map((col,i) => <th key={i}> {col} </th>) \n                            }\n                        </tr>\n                    </thead>\n                    <tbody \n                        className={this.css.TableBody}\n                    >\n                        { \n                            (this.props.data)?\n                                this.props.data.map((row, row_index) => {\n                                    return (\n                                        <tr \n                                            className = {this.css.TableRow} \n                                            key={row_index}\n                                        >\n                                            {\n                                                this.props.cols.map(\n                                                    (colname,col_index) => {\n                                                        return (\n                                                            <td \n                                                                onClick={() =>this.props.onRowClick? this.props.onRowClick(this.props.heading, row_index): null}\n                                                                key={col_index}>\n                                                                {\n                                                                    (colname.toLowerCase() === 'items')?\n                                                                    parseItems(row['items'])\n                                                                    :\n                                                                    (colname.toLowerCase() !== 'image')?\n                                                                    row[colname.toLowerCase()]\n                                                                    :\n                                                                        <img \n                                                                            width = {this.props.img_w? this.props.img_w:this.props.img_h? null : 30} \n                                                                            height = {this.props.img_h}\n                                                                            alt=\"\" \n                                                                            src={row['photo_url']}\n                                                                        />\n                                                                }\n                                                            </td>\n                                                        )\n                                                    }\n                                                )\n                                            } \n                                                {\n                                                    (this.props.rowButton)?\n                                                        <td> \n                                                            <img \n                                                                onClick={() =>this.props.onRowButtonClick? this.props.onRowButtonClick(this.props.heading, row_index):null}\n                                                                alt =\"\"\n                                                                className = {this.props.cssClassName} \n                                                                src = {require('../img/delete.png')} \n                                                                width = '30' \n                                                                height = '30'\n                                                            />\n                                                        </td>\n                                                        :\n                                                        null\n                                                }\n                                            </tr>\n                                    )\n\n                                })\n                                :\n                                null\n                        }\n                    </tbody>\n                </table>\n                {\n                    (this.props.footerButton)?\n                        <div>\n                            <p> {this.props.footerText} </p>\n                            <button type=\"button\" class= \"btn btn-success\" id = {this.props.cssClassName} onClick={this.props.onFooterButtonClick? this.props.onFooterButtonClick : null}> {this.props.footerButton} </button>\n                        </div>\n                        :\n                        null\n                }\n            </div>\n        )\n    }\n}\n\nexport default Table\n","import React from \"react\"\nimport InputArray from \"./InputArray\"\nimport { res } from \"../res/res\"\nimport {MAP_C2T, MAP_C2S} from '../res/CodeMappings'\nimport Table from './Table'\n\nconst parseOptions =(options) => {\n    return (\n        <ul>\n            {\n            options.map((e, i) => {\n                return (\n                    <div key={i}><li style={{'listStyleType': 'circle'}} key={i}>{e.list_name} : {e.option_choice} </li><br/></div>\n                )\n            })\n            }\n        </ul>\n    )\n}\n\nconst parseItem = (item, id) => {\n    return (\n        <div key={id}> \n            <h6> {item.name} </h6>\n            <div className = \"CardInfoInner\"> \n                <div>\n                    {parseOptions(item.option_list_choices)} \n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst parseDeals = (deal, id) => {\n    return (\n        <div key={id}> \n            <h5 style={{'fontWeight':'bold', 'textDecoration': 'underline overline'}}> {deal.name} </h5>\n            {\n                (deal.items)?\n                    deal.items.map((e,i) => {\n                        return (\n\n                            <div key={i}>\n                                <h6> {e.name} </h6>\n                                <div>\n                                    {parseOptions(e.option_list_choices)}\n                                </div>\n                            </div>\n                        )})\n                    :\n                    null\n            }\n\n        </div>\n    )\n}\nconst tstampToTime = (tstamp) => {\n\n    // Months array\n    const months_arr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n\n    // Convert timestamp to milliseconds\n    const date = new Date(parseInt(tstamp));\n\n    // Year\n    const year = date.getFullYear();\n\n    // Month\n    const month = months_arr[date.getMonth()];\n\n    // Day\n    const day = date.getDate();\n\n    // Hours\n    const hours = date.getHours();\n\n    // Minutes\n    const minutes = \"0\" + date.getMinutes();\n\n    // Display date time in DD-Month-YYYY HH:MM AM/PM format\n    return `${day}-${month}-${year} @ ${(hours>12)? hours-12: hours}:${minutes.substr(-2)} ${(hours>=12)? 'PM': 'AM'}`\n \n}\nconst parseToTableFormat = (data) => {\n    let _data = {...data}\n    if(MAP_C2T[data.type] === 'Local'){\n        delete _data.address\n        delete _data.contact_no\n        delete _data.email\n    }\n    let keys = Object.keys(_data)\n    return keys.map(key => {\n        let d = \n            (key === 'deals')? \n            data[key].map((item, dealid) => parseDeals(item, dealid))\n            : \n            (key === 'items')?\n            data[key].map((item, itemid) => parseItem(item, itemid))\n            :\n                <div>\n                    <p> {(key === 'status')? \n                            MAP_C2S[data[key]]\n                            :\n                            (key === 'type')?\n                            MAP_C2T[data[key]]\n                            :\n                            (key === 'time')?\n                            tstampToTime(data[key])\n                            :\n                            data[key]\n                    } \n                </p>\n            </div>\n\n        return {\n            field:key.toUpperCase(),\n            data:d\n        }\n    })\n}\n\nconst Card = (props) => {\n    return ( \n        <div className=\"DeliveriesTable\">\n            <div className={res.admin.css_classes.DeliveriesButtons}>\n                <InputArray \n                    id={props.id} \n                    inputs={props.inputs} \n                    classNames={props.inputClassNames}\n                    type={props.inputType} \n                    onClick={props.onClick}/>\n            </div>\n            <Table \n                heading = {MAP_C2T[props.data.type]}\n                cssClassName = \"\"\n                cols = {['Field', 'Data']}\n                data = {parseToTableFormat(props.data)}\n            />\n        </div>\n                /*\n        <div className = {res.admin.css_classes.DeliveriesContainer}> \n            <div className = \"bg-dark text-white\" id = {res.admin.css_classes.DeliveriesInfo}>\n                {\n                    Object.keys(props.data).map((e, i) => {\n                        return (\n                            (e === 'items')?\n                            props.data[e].map((item, itemid) => parseItem(item, itemid))\n                            :\n                            (e === 'deals')?\n                            props.data[e].map((item, dealid) => parseDeals(item, dealid))\n                            :\n                                <div className = \"CardInfo\" key={i}>\n                                    <h6> {e.toUpperCase()}</h6> \n                                    <p> {(e === 'status')? \n                                            MAP_C2S[props.data[e]]\n                                            :\n                                            (e === 'type')?\n                                            MAP_C2T[props.data[e]]\n                                            :\n                                            props.data[e]\n                                    } \n                                    </p>\n                                    </div>\n                        )\n                    })\n                }\n                </div>\n                <div className={res.admin.css_classes.DeliveriesButtons}>\n                    <InputArray \n                        id={props.id} \n                        inputs={props.inputs} \n                        classNames={props.inputClassNames}\n                        type={props.inputType} \n                        onClick={props.onClick}/>\n                        </div>\n                        </div>\n                        */\n    )\n\n}\n\n\nexport default Card\n","import React from 'react';    \n\n\nconst PopupH = (props) => {\n    return (\n        <div>\n            {props.children}\n        </div>\n    )\n}\n\nconst PopupBody = (props) => {\n    return (\n        <div>\n            {props.children}\n        </div>\n    )\n}\n\nconst PopupButtons = (props) => {\n    return (\n        <div>\n            {props.children}\n        </div>\n    )\n}\n\nclass Popup extends React.Component {  \n  render() {  \n\t\treturn (  \n            (this.props.show)?\n\t\t<div className='popup'>  \n\t\t\t<div className='popupInner'>  \n                {this.props.children}\n\t\t\t</div>  \n\t\t</div>  \n            :\n            null\n\t\t);  \n\t}  \n}  \n\nexport {\n    Popup,\n    PopupBody,\n    PopupH,\n    PopupButtons\n}\n","import React from \"react\"\nimport _ from \"lodash\"\nimport Card from './Card'\nimport { Popup, PopupH, PopupBody, PopupButtons } from './Popup'\nimport { api_pull, api_push} from '../api/api.js'\n\nconst parse_option_list = item => {\n    if (!(\"option_list_choices\" in item)){ // insert an empty list in place if options list does not exist\n        item[\"option_list_choices\"] = []\n        return item \n    }\n\n    item[\"option_list_choices\"] = Object.values(item[\"option_list_choices\"])\n    return item\n}\n\nconst parse_items = obj => { //either deal or order\n    if (!(\"items\" in obj)){ // insert an empty list in place if no items exist \n        let order = {}\n        order[\"items\"] = []\n        return obj \n    }\n\n    obj[\"items\"].forEach(item => {\n        parse_option_list(item)\n    })\n    return obj\n}\n\nconst parse_deals = order => {\n\n    if (!(\"deals\" in order)){ // insert an empty list in place if no deals exist\n        order[\"deals\"] = []\n        return order \n    }\n\n    order[\"deals\"] = Object.values(order[\"deals\"])\n\n    order[\"deals\"].forEach(deal =>{\n        parse_items(deal)\n    })\n\n    return order\n}\n\nconst parse_order = order => {\n    order = parse_items(order)\n    order = parse_deals(order)\n    return order\n}\n\nclass DeliveriesSubTabs extends React.Component {\n    constructor(props) {\n        super(props)\n        this.page = this.props.page\n        this.tab_id = this.props.tab_id\n        this.tab = this.page.tabs[this.tab_id]\n        this.api = this.tab.api\n        this.apiOrderManagement = '/admin/api/orders/management'\n        this.state = {'data': [], 'showpopup':false}\n        this.clickHandler = this.clickHandler.bind(this)\n        this.onPopupClose = this.onPopupClose.bind(this)\n        this.onOrderRejected = this.onOrderRejected.bind(this)\n        this.reloadData = this.reloadData.bind(this)\n    }\n\n    reloadData(){\n        api_pull(this.api, data => \n            this.setState( old => { \n                if(!data) return\n                let parsed =  Object.values(data) //will give all orders as dictionaries {\"name\" : name, \"id\" : id and so on}\n                parsed.forEach(order =>{\n                    parse_order(order)\n                })\n                return {\n                    ..._.cloneDeep(old), \n                    'data': parsed\n                }\n        }))\n    }\n\n    componentDidMount() {\n        this.reloadData()\n    }\n\n    clickHandler(button, id) {\n        if(button.id === 1){\n            this.setState(old => {\n                let newstate = {...old, showpopup:true, 'reject_id':id}\n                return newstate\n            })\n            return\n        }\n\n        console.log(`Accepted order ${this.state.data[id].id}`)\n        let updatedOrder = _.cloneDeep(this.state.data[id])\n        updatedOrder.status = parseInt(updatedOrder.status) + 1\n        api_push(this.apiOrderManagement, {edit:{...updatedOrder}})\n        this.reloadData()\n    }\n\n    onPopupClose(){\n        this.setState(old => { return {...old, showpopup:false}})\n    }\n\n    onOrderRejected(){\n        let updatedOrder = _.cloneDeep(this.state.data[this.state.reject_id])\n        updatedOrder.status = -1\n        this.onPopupClose()\n        api_push(this.apiOrderManagement, {edit:{...updatedOrder}})\n        this.reloadData()\n    }\n\n    render() {\n        return (\n        <div>\n                <Popup\n                    show = {this.state.showpopup}\n                > \n                    <PopupH><div className=\"DeliveriesPopupHeading\">Reject</div> </PopupH>\n                    <PopupBody>\n                        <p className=\"DeliveriesPopupSubHeading\">Are you sure you want to reject this delivery?</p>\n                    </PopupBody>\n                    <PopupButtons>\n                        <div className=\"DeliveriesPopupButtons\">\n                            <button id=\"DeliveriesPopupClose\" class=\"btn btn-success\" onClick={this.onPopupClose}> Close </button>\n                            <button id=\"DeliveriesPopupReject\" class=\"btn btn-danger\" onClick={this.onOrderRejected}> Reject </button>\n                        </div>\n                    </PopupButtons>\n                </Popup> \n                {\n                    this.state.data.map((e, i) =>{\n                        return (\n                            <Card \n                                key={i} \n                                id = {i}\n                                inputType='button'\n                                inputClassNames= {this.tab.buttonscss}\n                                inputs={this.tab.buttons}\n                                data={e}\n                                onClick={this.clickHandler}/>\n                        )})\n                }\n            </div>\n        )\n    }\n}\n\nexport default DeliveriesSubTabs\n","class Parsers {\n    static parseDealOptions = (items) => {\n        let final = {}\n        items.forEach(item => {\n            final = {...final, ...this.parseItemOptions(item.options_lists, item.name, item.quantity)}\n        })\n        return final\n    }\n\n    static parseItemOptions = (list, item, qty) => {\n        let final = []\n        list.forEach(ls => {\n            let name = Object.keys(ls)[0]\n            let options = Object.values(ls)[0]\n            let ol = {\n                name: name,\n                options: options\n            }\n            final = [...final, ol]\n        })\n\n        let repeated = {}\n        if(!qty)\n            qty = 1\n\n        Array(qty).fill(qty).forEach((e, i) => {\n            repeated[`${item} #${i+1}`] = final\n        })\n\n        return {\n            ...repeated\n        }\n    }\n\n    static parseMenuBeforePush = (type, data) => {\n        const parsed = {[type]:data}\n        return parsed\n    }\n\n    static parseDealsBeforePush = (deal, type) => {\n        let arr = []\n        if(deal.items)\n            deal.items.forEach(item => arr = [...arr, ...Array(parseInt(item.quantity)).fill(item.id)])\n        deal.items = arr\n        const parsed = {[type]:deal}\n        return parsed\n    }\n\n    static filterSelected = (name, i, list, selected, type) => {\n        const listNames = list.map(l => Object.keys(l)[0])\n        let ret = {}\n        listNames.forEach(listName => {\n            let string = `${name} #${i}`\n            const ref= selected[string][listName]\n            const selected_name = Object.keys(ref).filter(e => ref[e].checked)[0]\n            const selected_charge = Object.values(ref).filter(e => e.checked)[0].charge\n            ret[listName] = type ==='name'? selected_name:selected_charge\n        })\n        return ret\n    }\n\n    static parseBillItem = (item, selected, qty) => {\n        return Array(qty).fill(0).map((k, i) => {\n            return {\n                name: item.name,\n                id: item.id,\n                price: item.price,\n                options: this.filterSelected(item.name, i+1, item.options_lists, selected, 'name'),\n                optionsPrices: this.filterSelected(item.name, i+1, item.options_lists, selected, 'price')\n            }\n        })\n    }\n\n    static combine = (lists) => {\n        return lists.reduce((acc, el) => {\n            return [...acc, ...el]\n        }, [])\n    }\n\n    static parseBillDeal = (deal, selected) => {\n        return {\n            name: deal.name,\n            id: deal.id,\n            price: deal.price,\n            items: this.combine(deal.items.map((item,i) => this.parseBillItem(item, selected, item.quantity)))\n        }\n    }\n\n    static parseBillEntry = (entry, selected) => {\n        return (entry.items)? this.parseBillDeal(entry, selected) :this.parseBillItem(entry, selected, entry.qty)[0]\n    }\n    static parseBillForPost = (bill, selected) => {\n        if(bill.length === 0)\n            return\n        let arrayOfItems = bill.map((entry,i) => this.parseBillEntry(entry, selected))\n        return arrayOfItems\n    }\n}\n\nexport default Parsers\n","import React from \"react\"\nimport {api_pull, api_push } from '../api/api'\nimport { res } from '../res/res'\nimport Table from './Table'\nimport { Popup, PopupH, PopupBody, PopupButtons} from './Popup'\nimport Parsers from './Parsers'\nimport _ from 'lodash'\n\nclass Orders extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.page = res.admin.pages[this.props.id]\n        this.options_charges = 0\n        this.billtable = this.page.tables.right\n        this.css = res.admin.css_classes\n        this.state = {'tables':{}, 'bill':[], 'showpopup':false, 'checked':{}}\n        this.onAdd = this.onAdd.bind(this)\n        this.onRowClick = this.onRowClick.bind(this)\n        this.onBillRowClick = this.onBillRowClick.bind(this)\n        this.totalBill = this.totalBill.bind(this)\n        this.onGenerateBill = this.onGenerateBill.bind(this)\n        this.showPopup = this.showPopup.bind(this)\n        this.api = this.page.api\n        this.showOptionsPopup = this.showOptionsPopup.bind(this)\n        this.createCheckBox = this.createCheckBox.bind(this)\n        this.hideOptionsPopup = this.hideOptionsPopup.bind(this)\n        this.addToBill = this.addToBill.bind(this)\n    }\n\n    parse_deals(data) {\n        let newdata = {}\n        newdata['Deals'] = Object.values(data)\n        return newdata\n    }\n\n    parse_menu(data) {\n        Object.keys(data).forEach(e => {\n            data[e] = Object.values(data[e])\n        })\n\n        return data\n    }\n\n    componentDidMount() {\n        api_pull('/admin/api/deals', deals => {\n            api_pull('/admin/api/menu', menu => {\n                this.setState(old => {\n                    return {\n                        ...old, \n                        'tables': {\n                            ...this.parse_deals(deals),\n                            ...this.parse_menu(menu)\n                        }\n                    }\n                })\n            })\n        })\n    }\n\n    optionsToString(selected) {\n        return Object.keys(selected).map((item, i) => {\n            return (\n                <div key={i}>\n                    <h5> {item} </h5>\n                    {\n                        Object.keys(selected[item]).map((list, j) => {\n                            const ref = selected[item][list]\n                            const selected_name = Object.keys(ref).filter(e => ref[e].checked)\n                            const selected_charge = Object.values(ref).filter(e => e.checked)[0].charge\n                            this.options_charges += selected_charge\n                            return (\n                                <div key={j}>\n                                    <h6>{list} : {selected_name} : + {selected_charge}</h6>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            )\n        })\n    }\n\n    onAdd() {\n        const options = this.optionsToString(this.state.checked)\n        const {table, row} = this.state.staged_add\n        this.addToBill(table, row, options, this.options_charges)\n        this.hideOptionsPopup()\n        this.options_charges = 0\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            console.log('before', {...newstate})\n            delete newstate.options_lists\n            //delete newstate.checked\n            //delete newstate.staged_add\n            console.log('after', newstate)\n            return newstate\n        })\n        //clear up state\n    }\n\n    addToBill(table, row, options, charges){\n        let item = {...this.state.tables[table][row]}\n        this.setState(old => {\n            let newbill = [...old.bill]\n            let found = false\n            newbill.forEach((e, i) => {\n                /*\n                if(e.id === item.id) {\n                    e.qty += 1\n                    e.charges += charges\n                    e.options = [...e.options, options]\n                    found = true\n                }\n                */\n            })\n            if(!found){\n                item.qty = 1\n                item.charges = charges\n                newbill = [...newbill, item]\n            }\n            item.options = [options]\n            return {\n                ...old,\n                'bill': [...newbill]\n            }\n        })\n    }\n\n    onRowClick(table, row) {\n        this.showOptionsPopup(table, row)\n    }\n\n\n    initCheckBoxState(table, row) {\n        const ol = this.parseOptionsLists(table, row)\n        let dic = {}\n        Object.keys(ol).forEach(item => {\n            dic[item] = {}\n            ol[item].forEach(list => {\n                dic[item][list.name] = {}\n                Object.keys(list.options).forEach((option_name, i) => {\n                    dic[item][list.name][option_name] = {checked:i? false:true, charge:parseInt(list.options[option_name])}\n                })\n            })\n        })\n        return dic\n    }\n\n    parseOptionsLists(table, rowid) {\n        const row = this.state.tables[table][rowid]\n        return (table === 'Deals')\n                ?\n                Parsers.parseDealOptions(row.items)\n                : \n                Parsers.parseItemOptions(row.options_lists, row.name)\n    }\n\n    showOptionsPopup(table, row) {\n        this.setState(old => {\n            return {\n                ...old,\n                showpopup:true,\n                options_lists:this.parseOptionsLists(table, row),\n                checked:{...old.checked, ...this.initCheckBoxState(table, row)},\n                staged_add:{table:table, row:row}\n            }\n        })\n    }\n\n    hideOptionsPopup() {\n        this.setState(old => {\n            return {\n                ...old,\n                showpopup:false\n            }\n        })\n    }\n\n    onBillRowClick(table, row) {\n        this.setState(old => {\n            let newbill = [...old.bill]\n            newbill[row].qty -= 1\n            if(newbill[row].qty === 0)\n                newbill = newbill.filter( (e,i) => i !== row)\n            let newstate = {\n                ...old,\n                'bill': [...newbill],\n                checked:{}\n            }\n            return newstate\n        })\n    }\n\n    totalBill(){\n        let total = 0\n        this.state.bill.forEach(item => {\n            total += item.price*item.qty + item.charges\n        })\n        return total\n    }\n\n    showPopup(){\n        this.setState(old => {return {...old, showbill:true}})\n    }\n\n    onGenerateBill(){\n        this.showPopup()\n        let order = {}\n        order.user = 'admin'\n        order.address = 'nothing'\n        order.phone = 'nothing'\n        order.status = 1\n        order.type = 0\n        order['orders'] = Parsers.parseBillForPost(this.state.bill, this.state.checked)\n        api_push('/admin/api/orders', order)\n        this.setState(old => {\n            return {\n                ...old,\n                bill:[]\n            }\n        })\n    }\n\n    onChecked(item, listName, option) {\n        this.setState(old => {\n            let newstate = {...old}\n            let ref = newstate.checked[item][listName]\n            Object.keys(ref).forEach(e => {\n                newstate.checked[item][listName][e].checked = e===option\n            })\n            return newstate\n        })\n    }\n\n    createCheckBox(list, item) {\n        return (\n            <>\n                <h2> {list.name} </h2>\n                {\n                    Object.keys(list.options).map((option, i) => {\n                        return (\n                            <div key={i}>\n                                <input \n                                    id = \"OrdersRadio\" \n                                    type=\"radio\" \n                                    checked={this.state.checked[item][list.name][option].checked}\n                                    onChange={() => this.onChecked(item, list.name, option)}\n                                />\n                                <label> {option} : +{list.options[option]}</label>\n                            </div>\n                        )\n                    })\n                }\n            </>\n\n        )\n    }\n\n    render() {\n\n        return (\n            <div \n                className={this.css.Orders}>\n                <div \n                    className={this.css.OrdersLeftTable}\n                >\n                    {\n                        Object.keys(this.state.tables).map((table,i) => {\n                            return (\n                                <Table \n                                    key={i}\n                                    heading = {table}\n                                    onRowClick={this.onRowClick}\n                                    cssClassName = \"TableLeftButton\"\n                                    cols = {this.page.tables[table].cols}\n                                    data = {this.state.tables[table]}\n                                />\n                            )})\n                    }\n                </div>\n                <div \n                    className={this.css.OrdersRightTable}\n                >\n                    <Table\n                        heading = \"Bill\"\n                        footerText = {`Total: ${this.totalBill()}`}\n                        footerButton= \"Generate Bill\"\n                        onFooterButtonClick={this.onGenerateBill}\n                        cssClassName = \"TableRightButton\"\n                        onRowClick={this.onBillRowClick}\n                        cols = {['ID', 'Name', 'Price', 'Options', 'Charges', 'Qty']}\n                        data = {this.state.bill}\n                    />\n                </div>\n                {\n                    this.state.showpopup?\n                        <Popup\n                            show={this.state.showpopup}\n                        >\n                            <PopupButtons>\n                                <button id = \"OrdersPopUpClose\" type=\"button\" class=\"btn btn-danger\" onClick={this.hideOptionsPopup}> Close </button> \n                                <button id =\"OrdersAddToBill\" type=\"button\" class=\"btn btn-success\" onClick={this.onAdd}> Add To Bill </button> \n                            </PopupButtons>\n                            <PopupBody>\n                                {\n                                    Object.keys(this.state.options_lists).map((item, i) => {\n                                        return (\n                                            <div key={i}>\n                                                <h1 id = \"OrdersPopUpHeading\">{item}</h1>\n                                                {\n                                                    this.state.options_lists[item].map((list, j) => {\n                                                        return (\n                                                            <div id = \"OrdersPopUpItems\" key={`${i}${j}`}> {this.createCheckBox(list, item)} </div>\n                                                        )\n                                                    })\n                                                }\n                                            </div>\n                                        )})\n                                }\n                            </PopupBody>\n                        </Popup>\n                        :\n                        null\n                }\n\n                {\n                    false?\n                        <Popup\n                            show={this.state.showbill}\n                        >\n                            <PopupButtons>\n\n                            </PopupButtons>\n                        </Popup>\n                    :\n                        null\n                }\n            </div>\n        )\n    }\n}\nexport default Orders\n","import React from 'react'\nimport _ from 'lodash'\n\nclass AddItemForm extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {stagedOption:{}, data:_.cloneDeep(this.props.prefill)}\n        this.parseOptions = this.parseOptions.bind(this)\n        this.onAddOptionsList = this.onAddOptionsList.bind(this)\n        this.onChange = this.onChange.bind(this)\n        this.onImageAdd = this.onImageAdd.bind(this)\n        this.onDeleteOption = this.onDeleteOption.bind(this)\n        this.validate = this.props.OnDataChanged\n        this.onPopupClose = this.props.onPopupClose\n        this.onDeleteStaged = this.onDeleteStaged.bind(this)\n        this.onStagedOptionChange = this.onStagedOptionChange.bind(this)\n        this.onDescriptionChange = this.onDescriptionChange.bind(this)\n    }\n\n    parseOptions(options) {\n        let keys = Object.keys(options)\n        let text = ''\n        keys.forEach((e, i) =>{\n            text += `${e}:${options[e]};`\n        })\n        return text\n    }\n\n    onImageAdd(event) {\n        let file = event.target.files[0]\n        var reader = new FileReader()\n        let dataurl = ''\n        reader.onload = () => {\n            dataurl = reader.result\n            console.log(dataurl)\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:{\n                        ...old.data,\n                        'photo_url':dataurl\n                    }\n                }\n            })\n        }\n        reader.readAsDataURL(file)\n    }\n\n    onChange(event, key, parent) {\n        let target = event.target\n        const {id, name} = target\n        this.setState(old => {\n            if(!key.includes('option')) {\n                let newstate = {\n                    ...old,\n                    data:{\n                        ...old.data,\n                        [key]:target.value\n                    }\n                }\n                return newstate\n            }\n            else {\n                if(key === 'options_name') {\n                    let new_options_lists = old.data.options_lists.map((e, i) => {\n                        let option_name = Object.keys(e)[0]\n                        if(option_name === target.name) {\n                            return {\n                                [target.value]:{\n                                    ...e[option_name]\n                                }\n                            }\n                        }\n                        return e\n                    })\n                    return {\n                        ...old,\n                        data: {\n                            ...old.data,\n                            'options_lists': [...new_options_lists]\n                        }\n                    }\n                }\n                else if(key === 'option_list_value'){\n                    let newstate = _.cloneDeep(old)\n                    const [main, key, option] = name.split('/')\n                    newstate.data[main][id][key][option] = target.value\n                    return newstate\n                }\n            }\n        })\n\n    }\n\n    clense(state){\n        return state\n    }\n\n    validate() {\n        //perform validation\n    }\n\n    onDeleteOption(key, i, option) {\n        console.log(key, i, option)\n        this.setState(old => {\n            let newstate = {...old}\n            delete newstate.data.options_lists[i][key][option]\n            return this.clense(newstate)\n        })\n    }\n    onAddOptionsList() {\n        this.setState(old => {\n            return {\n                ...old,\n                data:{\n                    ...old.data,\n                'options_lists': [\n                    ...old.data.options_lists,\n                    {\n                        '':\n                        {\n                        }\n                    }\n                ]\n                }\n            }\n        })\n    }\n\n    onAddOption(i, listName) {\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            newstate.stagedOption[listName] = {\n                name: \"\",\n                value: \"\"\n            }\n            return newstate\n        })\n    }\n\n    onDeleteStaged(key){\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            newstate.stagedOption[key] = false\n            return newstate\n        })\n    }\n\n    onStagedOptionChange(event, key){\n        const {id, value} = event.target\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            newstate.stagedOption[key][id] = value\n            return newstate\n        })\n    }\n\n    onNewOptionCommit(i, listName) {\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            const {name, value} = old.stagedOption[listName]\n            newstate.data.options_lists[i][listName][name] = value\n            newstate.stagedOption[listName] = false\n            return newstate\n        })\n    }\n\n    onDescriptionChange(event) {\n        const {value} = event.target\n        this.setState(old => {\n            return {\n                ...old,\n                data:{\n                    ...old.data,\n                    description:value\n                }\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <button id=\"AddItemFormDone\" type=\"button\" class=\"btn btn-success\" onClick={() => this.onPopupClose('done', !_.isEqual(this.state.data, this.props.prefill), this.state.data)}> Done </button>\n                <button id=\"AddItemFormCancel\" type=\"button\" class=\"btn btn-danger\" onClick={()=>this.onPopupClose('cancel')}> Cancel </button>\n                <br/>\n                <div className = \"form-group\">\n                    <div id=\"AddItemFormPrepend\" class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">Name:</span>\n                        <input type = \"text\" className = \"form-control\" id = \"name\" name='item-name' onChange={(e) => this.onChange(e, 'name')} value={this.state.data.name}/>\n                    </div>\n                </div>\n                <br/>\n                <label id=\"AddItemFormOptionList\" htmlFor='option_lists'>Option Lists</label><br/>\n                {\n                    (this.state.data.options_lists)?\n                    this.state.data.options_lists.map((optionList, i) => {\n                        let key = Object.keys(optionList)[0]\n                        let sorted = Object.keys(optionList[key])\n                        return (\n                            \n                            <div key={i}>\n                                <div id=\"AddItemFormPrepend\" class=\"input-group-prepend\">\n                                    <span class=\"input-group-text\">{key}</span>\n                                    <input className = \"form-control\"\n                                        value={key}\n                                        id='options_name' \n                                        type='text' \n                                        onChange={(e) => this.onChange(e, 'options_name')} \n                                        name={key} />\n                                </div>\n                                {\n                                    sorted.map((option, b) => {\n                                        return (\n                                            <div key={b}>\n                                                <div id=\"AddItemFormOptions\" class=\"input-group-prepend\">\n                                                    <span class=\"input-group-text\">{option}</span>\n                                                    <input className = \"form-control\"\n                                                        onChange={(e) => this.onChange(e, 'option_list_value', option)} \n                                                        value={optionList[key][option]}//{this.parseOptions(Object.values(optionList)[0])} \n                                                        id={i}\n                                                        min=\"0\"\n                                                        type='number' \n                                                        name={`options_lists/${key}/${option}`}/>\n                                                    <button id=\"AddItemFormMinus\" type=\"button\" class=\"btn btn-danger\" onClick={() => this.onDeleteOption(key, i, option)}> - </button>\n                                                </div>\n                                            </div>\n                                        )\n                                    })\n                                }\n                                {\n                                    this.state.stagedOption[key]?\n                                        <div id=\"AddItemFormAddOptionClicked\">\n                                            <div id=\"AddItemFormOptions\" class=\"input-group-prepend\">\n                                                <span class=\"input-group-text\">Name</span>\n                                                <input className = \"form-control\"\n                                                    id='name' \n                                                    type='text' \n                                                    name={this.state.stagedOption[key].name} \n                                                    value={this.state.stagedOption[key].name}\n                                                    onChange={(event) => this.onStagedOptionChange(event, key)}\n                                                />\n                                            </div>\n                                            <div id=\"AddItemFormOptions\" class=\"input-group-prepend\">\n                                                <span class=\"input-group-text\">Value</span>\n                                                <input className = \"form-control\"\n                                                    id='value'\n                                                    value={this.state.stagedOption[key].value}//{this.parseOptions(Object.values(optionList)[0])} \n                                                    min=\"0\"\n                                                    type='number' \n                                                    onChange={(event) => this.onStagedOptionChange(event, key)}\n                                                    name={`stagedOption/value/`}/>\n                                                <button type=\"button\" class=\"btn btn-danger\" onClick={() => this.onDeleteStaged(key)}> - </button>\n                                                <button type=\"button\" class=\"btn btn-success\" onClick={() => this.onNewOptionCommit(i, key)}> commit </button>\n                                            </div>\n                                        </div>\n                                        :\n                                        null\n                                }\n                                <button id=\"AddItemFormAddOption\" type=\"button\" class=\"btn btn-success\" onClick={() => this.onAddOption(i, key)}> Add Option </button>\n                                <button id=\"AddItemFormPlus\" class=\"btn btn-success\" onClick={this.onAddOptionsList}>+</button>\n                            </div>\n                        )\n                    })\n                        :\n                        null\n                }\n                <div id=\"AddItemFormOptions\" class=\"input-group-prepend\">\n                    <span class=\"input-group-text\">Description</span>\n                    <textarea className = \"form-control\"\n                        onChange={this.onDescriptionChange} \n                        value={this.state.data.description} \n                        id='description' \n                        type='text' \n                        name='description' /><br/>\n                </div>\n\n                <img id=\"AddItemFormImage\" src={this.state.data.photo_url} height=\"100\"/>\n                <input id=\"AddItemFormImageButton\" class=\"form-control\" type=\"file\" onChange={(event) => this.onImageAdd(event)}/>\n\n                <div id=\"AddItemFormOptions\" class=\"input-group-prepend\">\n                    <span class=\"input-group-text\">Price</span>\n                    <input class=\"form-control\"\n                        onChange={(e) => this.onChange(e, 'price')} \n                        value={this.state.data.price} \n                        id='price' \n                        type='text' \n                        name='price' /><br/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AddItemForm\n","import React from 'react'\nimport AddItemForm from './AddItemForm'\nimport {Popup, PopupH, PopupBody, PopupButtons } from './Popup'\n\nconst AddItemPopup = (props) =>{\n    return (\n        <Popup \n            show={props.show}\n        >\n            <PopupH><div id=\"AddItemPopupHeading\">Add an item</div></PopupH>\n            <PopupBody>\n                <AddItemForm \n                    onPopupClose={props.onClose}\n                    prefill={props.prefill}/>\n                </PopupBody>\n            </Popup>\n\n    )\n}\n\nexport default AddItemPopup\n","import React from 'react'\nimport {Popup, PopupH, PopupBody, PopupButtons} from './Popup'\n\nconst DeleteItemPopup = (props) => {\n     return(\n        <Popup \n            show={props.show}\n            onDataChanged={props.onDataChanged}\n        >\n            <PopupH><div id=\"DeletePopupHeading\">Delete Item</div></PopupH>\n            <PopupBody><div id=\"DeletePopupBody\">Are you sure you want to Delete?</div></PopupBody>\n            <PopupButtons>\n                <div id=\"PopupButtons\">\n                    <button id=\"DeletePopupCancel\" type=\"button\" class=\"btn btn-danger\" onClick={()=> props.onClose('cancel')}> Close </button>\n                    <button id=\"DeletePopupConfirm\" type=\"button\" class=\"btn btn-success\" onClick={()=> props.onClose('confirm')}> Confirm </button>\n                </div>\n            </PopupButtons>\n        </Popup>\n    )\n}\n\nexport default DeleteItemPopup\n","import React from \"react\"\nimport Table from './Table'\nimport { api_pull, api_push } from '../api/api'\nimport { res } from '../res/res'\nimport AddItemPopup from './AddItemPopup'\nimport DeleteItemPopup from './DeleteItemPopup'\nimport Parsers from './Parsers'\n\nconst mapper = {\n    'Mains':0,\n    'Extras':1,\n    'Drinks':2\n}\n\nclass Menu extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.css = res.admin.css_classes\n        this.headingButton = 'Add'\n        this.api = '/admin/api/menu'\n        this.tables = res.admin.pages[this.props.id].tables\n        this.showPopup = this.showPopup.bind(this)\n        this.onPopupClose = this.onPopupClose.bind(this)\n        this.onAdd = this.onAdd.bind(this)\n        this.onDelete = this.onDelete.bind(this)\n        this.onRowClick = this.onRowClick.bind(this)\n        this.parse_data = this.parse_data.bind(this)\n        this.hidePopup = this.hidePopup.bind(this)\n        this.onDeletePopupClose = this.onDeletePopupClose.bind(this)\n        this.delete_item = this.delete_item.bind(this)\n        this.updateTables = this.updateTables.bind(this)\n        this.state = {'tables':{}, 'pshow':{\n            'add':false,\n            'delete':false\n        }}\n\n    }\n\n    parse_data(data) {\n        Object.keys(data).forEach(e => {\n            data[e] = Object.values(data[e])\n        })\n\n        return data\n    }\n\n    updateTables() {\n        api_pull(this.api, d => {\n            this.setState(old => {\n                return {\n                    ...old, \n                    'tables': this.parse_data(d)\n                }\n            })\n        })\n    }\n    componentDidMount() {\n        this.updateTables()\n    }\n\n    showPopup(id, table, row) {\n        this.setState(old => {\n            let newstate = {...old}\n            newstate.pshow[id] = true\n            if(id==='delete')\n                newstate.staged_delete = [table, row]\n            return newstate\n        })\n    }\n\n    validate(state) {\n    }\n\n    delete_item(){\n        //api call to delete item from database\n        const [table, row] = this.state.staged_delete\n        const data = this.state.tables[table][row]\n        api_push(this.api, Parsers.parseMenuBeforePush('delete', data))\n        this.updateTables()\n        //remove staged_delete and row from state\n        this.setState(old => {\n            return {\n                ...old,\n                staged_delete: []\n            }\n        })\n    }\n\n    onDeletePopupClose(action){\n        this.hidePopup('delete')\n        this.setState(old => {\n            if(action === 'confirm')\n                this.delete_item(old.staged_delete)\n        })\n    }\n\n    hidePopup(popup){\n        this.setState(old => {\n            let newstate = {...old}\n            newstate.pshow[popup] = false\n            return newstate\n        })\n    }\n\n    onPopupClose(action, changed, state){\n        console.log('changed', changed, state)\n        this.hidePopup('add')\n        if(!changed)\n            return\n        api_push(this.api, Parsers.parseMenuBeforePush(this.state.type, state))\n        this.updateTables()\n    }\n\n    onDelete(table, row) {\n        this.showPopup('delete', table, row)\n    }\n\n    onAdd(tableid) {\n        console.log(tableid)\n        this.setState(old => {\n            let prefill = {\n            'name':'',\n            'description':'',\n            'category':mapper[tableid],\n            'options_lists':[{'':{}}],\n            'photo_url':'',\n            'price':''\n        }\n            return {\n                ...old,\n                prefill:prefill,\n                type:'add'\n            }\n        })\n        this.showPopup('add')\n    }\n\n    onRowClick(table, row){\n        this.setState(old => {\n            let prefill = old.tables[table][row]\n            return {\n                ...old,\n                staged_change:[table, row],\n                prefill:prefill,\n                type:'edit'\n            }\n        })\n        this.showPopup('add')\n    }\n\n    render() {\n        return (\n            <div className = 'Menu'>\n                <AddItemPopup \n                    show = {this.state.pshow.add}\n                    onClose = {this.onPopupClose}\n                    prefill = {this.state.prefill}\n                />\n                <DeleteItemPopup\n                    show = {this.state.pshow.delete}\n                    onClose = {this.onDeletePopupClose}\n                />\n\n                <div className={this.css.OrdersLeftTable}>\n                    {\n                        this.tables.map((table, i) => \n                            <Table \n                                key={i}\n                                heading = {table.heading}\n                                headingButton={this.headingButton}\n                                onAdd={this.onAdd}\n                                rowButton=\"Delete\"\n                                cssClassName = \"MenuButton\"\n                                onRowClick={this.onRowClick}\n                                onHeadingButtonClick={this.onAdd}\n                                cols = {table.cols}\n                                data = {this.state.tables[table.heading]}\n                                onRowButtonClick= {this.onDelete}\n                            />\n                        )\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Menu\n","import React from 'react'\nimport _ from \"lodash\"\nimport {Popup, PopupH, PopupBody} from './Popup'\n\nconst menuToItemsArray = (menu) => {\n    let items = []\n    Object.keys(menu).forEach((table,i) => {\n        let arr = Object.values(menu[table]).map((item, j) => {\n            return item\n        })\n        items = [...items, ...arr]\n    })\n    return items\n}\n\nconst ItemDropDown = (props) => {\n    return (\n        props.name === \"\"?\n            <select class=\"custom-select\" id={props.id} value=\"Select\" onChange={props.onItemChange}>\n                <option key={-1} id={-1}>Select</option>\n                {\n                    props.menu.map((item, i) => {\n                        return <option key={i} id={i}> {i}. {item.name} </option>\n                    })\n                }\n            </select>\n        :\n            <input id=\"AddDealPopupDisabled\" class=\"form-control\" type=\"text\" disabled={true} value={props.name}/>\n    )\n}\n\nconst ListItem = (props) => {\n    return (\n        <div id=\"DealsPopupList\">\n            <ItemDropDown \n                itemID={props.itemID}\n                id={props.id}\n                new={props.new}\n                menu={props.menu}\n                onItemChange={props.onItemChange}\n                name={props.name}\n            />\n            <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\">Quantity</span>\n                <input className = \"form-control\"\n                    type=\"number\" \n                    id={props.id} \n                    name=\"quantity\" \n                    min=\"1\" \n                    value={props.qty} \n                    onChange={props.onChange}\n                />\n            </div>\n        </div>\n    )\n}\n\nclass AddDealPopup extends React.Component {\n    constructor(props) {\n        super(props)\n        let prefill = _.cloneDeep(this.props.prefill)\n        this.state = {deal:prefill}\n        this.onChange = this.onChange.bind(this)\n        this.itemArray = menuToItemsArray(props.menu)\n        this.onItemChange = this.onItemChange.bind(this)\n        this.onAdd = this.onAdd.bind(this)\n        this.onRemove = this.onRemove.bind(this)\n        this.onNameChange = this.onNameChange.bind(this)\n        this.onPriceChange = this.onPriceChange.bind(this)\n        this.onImageUpload = this.onImageUpload.bind(this)\n    }\n\n    onChange(event) {\n        const {name, value, id} = event.target\n        this.setState(old => {\n            let newstate = {...old}\n            newstate.deal.items[id].quantity = value\n            return newstate\n        })\n    }\n\n    onItemChange(event) {\n        const {id, value} = event.target\n        if(value === \"None\") return\n        let item = _.cloneDeep(this.itemArray[parseInt(value.split(\".\")[0])])\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            let index = -1\n            let exist = Object.values(newstate.deal.items).filter((it, i) => {\n                if(it.id === item.id){\n                    index = i\n                    return true\n                }\n                return false\n            })\n            if(index !== -1){\n                exist[0].quantity = parseInt(exist[0].quantity) + 1\n                return newstate\n            }\n            newstate.deal.items[id] = item\n            newstate.deal.items[id].quantity = 1\n            console.log(newstate)\n            return newstate\n        })\n    }\n\n    onAdd(event) {\n        const {id} = event.target\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            newstate.deal.items[id] = {\n                name:\"\"\n            }\n            return newstate\n        })\n    }\n\n    onRemove(event) {\n        const {id} = event.target\n        console.log(id)\n        this.setState(old => {\n            let newstate = _.cloneDeep(old)\n            newstate.deal.items = newstate.deal.items.filter((item, i) => i != id)\n            console.log(newstate.deal.items)\n            return newstate\n        })\n    }\n\n    onNameChange(event) {\n        const {value} = event.target\n        this.setState(old => {\n            return {\n                deal: {\n                    ...old.deal,\n                    name:value\n                }\n            }\n        })\n    }\n\n    onImageUpload(event){\n        let file = event.target.files[0]\n        var reader = new FileReader()\n        let dataurl = ''\n        reader.onload = () => {\n            dataurl = reader.result\n            console.log(dataurl)\n            this.setState(old => {\n                return {\n                    deal:{\n                        ...old.deal,\n                        'photo_url':dataurl\n                    }\n                }\n            })\n        }\n        reader.readAsDataURL(file)\n    }\n\n    onPriceChange(event) {\n        const {value} = event.target\n        this.setState(old => {\n            return {\n                deal: {\n                    ...old.deal,\n                    price:value\n                }\n            }\n        })\n    }\n\n    render() {\n        return (\n            <Popup \n                show={this.props.show}>\n                <PopupH><div id=\"AddDealPopupHeading\"> Add/Edit An Item </div> </PopupH>\n                <PopupBody> \n                    <div>\n                        <button id=\"DealsPopupClose\" type=\"button\" class=\"btn btn-danger\" onClick={() => this.props.onClose('cancel')}> Close </button>\n                        <button id=\"DealsPopupAdd\" type=\"button\" class=\"btn btn-success\" onClick={() => this.props.onAdd(!_.isEqual(this.props.prefill, this.state.deal), this.state.deal, this.props.type)}> Add </button>\n                        <div id=\"DealsPopupName\" class=\"input-group-prepend\">\n                            <span class=\"input-group-text\">Deal Name</span>\n                            <input className = \"form-control\" type=\"text\" onChange={this.onNameChange} value={this.state.deal.name} />\n                        </div>\n                        <div id=\"DealsPopupPrice\" class=\"input-group-prepend\">\n                            <span class=\"input-group-text\">Price</span>\n                            <input className = \"form-control\" type=\"number\" onChange={this.onPriceChange} value={this.state.deal.price} />\n                        </div>\n                        <h4 id=\"AddDealPopupItems\"> Items </h4>\n                        {\n                            this.state.deal.items.map((item, i) => {\n                                return (\n                                    <div key={i}>\n                                        <div id=\"AddDealPopupMinus\"> \n                                            <button type=\"button\" class=\"btn btn-danger\" id={i} onClick={this.onRemove}> - </button>\n                                        </div>\n                                        <ListItem \n                                            new={false}\n                                            id={i}\n                                            onItemChange={this.onItemChange}\n                                            itemID={item.id}\n                                            name={item.name}\n                                            qty={item.quantity}\n                                            onChange={this.onChange}\n                                            menu={this.itemArray}\n                                        />\n                                    </div>\n                                )\n                            })\n                        }\n                        <div id=\"AddDealPopupPlus\">\n                            <button type=\"button\" class=\"btn btn-success\" id={this.state.deal.items.length} onClick={this.onAdd}> + </button>\n                        </div>\n                        <br/>\n                        <img id=\"AddDealPopupImage\" height=\"100\" src={this.state.deal.photo_url}/>\n                        <br/>\n                        <input id=\"AddDealPopupImageButton\" className = \"form-control\" onChange={this.onImageUpload} type=\"file\"/>\n                    </div>\n                </PopupBody>\n            </Popup>\n        )\n    }\n}\n\nexport default AddDealPopup\n","import React from \"react\"\nimport Table from './Table'\nimport { api_pull, api_push } from '../api/api'\nimport { res } from '../res/res'\nimport AddDealPopup from './AddDealPopup'\nimport DeleteItemPopup from './DeleteItemPopup'\nimport Parsers from './Parsers'\n\n\nclass Deals extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.css = res.admin.css_classes\n        this.headingButton = 'Add'\n        this.api = res.admin.pages[this.props.id].api\n        this.tables = res.admin.pages[this.props.id].tables\n        this.showPopup = this.showPopup.bind(this)\n        this.onPopupClose = this.onPopupClose.bind(this)\n        this.onAdd = this.onAdd.bind(this)\n        this.onDelete = this.onDelete.bind(this)\n        this.onRowClick = this.onRowClick.bind(this)\n        this.parse_data = this.parse_data.bind(this)\n        this.hidePopup = this.hidePopup.bind(this)\n        this.onDeletePopupClose = this.onDeletePopupClose.bind(this)\n        this.onDealChanged = this.onDealChanged.bind(this)\n        this.updateTables = this.updateTables.bind(this)\n        this.state = {'tables':[], 'pshow':{\n            'add':false,\n            'delete':false\n        }}\n\n    }\n\n    updateTables() {\n        api_pull('/admin/api/menu', menu => {\n            this.menu = menu\n            api_pull(this.api, d => {\n                console.log(d)\n                this.setState(old => {\n                    return {\n                        ...old, \n                        'tables': this.parse_data(d)\n                    }\n                })\n            })\n        })\n    }\n    componentDidMount() {\n        this.updateTables()\n    }\n\n    parse_data(data) {\n        let newdata = {}\n        newdata['Deals'] = Object.values(data)\n        return newdata\n    }\n\n    showPopup(id, table, row) {\n        this.setState(old => {\n            let newstate = {...old}\n            newstate.pshow[id] = true\n            if(id==='delete')\n                newstate.staged_delete = [table, row]\n            return newstate\n        })\n    }\n\n    validate(state) {\n    }\n\n    delete_item(){\n        //api call to delete item from database\n        const [table, row] = this.state.staged_delete\n        console.log('deleting')\n        api_push('/admin/api/deals', Parsers.parseDealsBeforePush(this.state.tables[table][row], 'delete'))\n        this.updateTables()\n        //remove from state as well\n        this.setState(old => {\n            let newstate = {...old}\n            delete newstate.staged_delete\n            return newstate\n        })\n    }\n\n    onDeletePopupClose(action){\n        this.hidePopup('delete')\n        if(action === 'confirm')\n            this.delete_item(this.state.staged_delete)\n    }\n\n    hidePopup(popup){\n        this.setState(old => {\n            let newstate = {...old}\n            newstate.pshow[popup] = false\n            return newstate\n        })\n    }\n\n    onPopupClose(action){\n        this.hidePopup('add')\n        console.log('action', action)\n    }\n\n    onDelete(tableid, rowid) {\n        this.showPopup('delete', tableid, rowid)\n    }\n\n    onAdd() {\n        this.setState(old => {\n            let prefill = {\n                'name':'',\n                'description':'',\n                'items': [],\n                'photo_url':'',\n                'price':''\n            }\n            return {\n                ...old,\n                prefill:prefill,\n                type:'add'\n            }\n        })\n        this.showPopup('add')\n    }\n\n    onRowClick(tableid, rowid){\n        this.setState(old => {\n            const prefill = old.tables[tableid][rowid]\n            return {\n                ...old,\n                prefill:prefill,\n                type:'edit'\n            }\n        })\n        this.showPopup('add')\n    }\n\n    onDealChanged(changed, state, type){\n        this.hidePopup('add')\n        if(!changed)\n            return\n        api_push('/admin/api/deals', Parsers.parseDealsBeforePush(state, type))\n        this.updateTables()\n    }\n\n    render() {\n        return (\n            <div className = 'Menu'>\n                {\n                    this.state.pshow.add?\n                        <AddDealPopup \n                            show = {this.state.pshow.add}\n                            onClose = {() => this.hidePopup('add')}\n                            onAdd = {this.onDealChanged}\n                            prefill = {this.state.prefill}\n                            menu = {this.menu}\n                            type = {this.state.type}\n                        />\n                        :\n                        null\n                }\n                <DeleteItemPopup\n                    show = {this.state.pshow.delete}\n                    onClose = {this.onDeletePopupClose}\n                />\n                <div className={this.css.OrdersLeftTable}>\n                    {\n                        Object.keys(this.state.tables).map((table, i) => \n                            <Table \n                                key={i}\n                                heading = {'Deals'}\n                                headingButton={this.headingButton}\n                                onAdd={this.onAdd}\n                                rowButton=\"Delete\"\n                                cssClassName = \"TableLeftButton\"\n                                onRowClick={this.onRowClick}\n                                onHeadingButtonClick={this.onAdd}\n                                cols = {['ID', 'Name', 'Items', 'Image', 'Price']}\n                                data = {this.state.tables[table]}\n                                onRowButtonClick= {this.onDelete}\n                            />\n                        )\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Deals\n","import React from 'react'\nimport {Popup, PopupH, PopupBody} from './Popup'\n\nclass AddImagePopup extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {photo_url:null}\n        this.onImageUpload = this.onImageUpload.bind(this)\n    }\n\n    onImageUpload(event){\n        let file = event.target.files[0]\n        var reader = new FileReader()\n        let dataurl = ''\n        reader.onload = () => {\n            dataurl = reader.result\n            console.log(dataurl)\n            this.setState(old => {\n                return {\n                    ...old,\n                    'photo_url':dataurl\n                }\n            })\n        }\n        reader.readAsDataURL(file)\n    }\n\n    render(){\n        return (\n            <Popup \n                show={this.props.show}>\n                <PopupH><div id=\"GalleryHeadingPopup\"> Add An Image </div></PopupH>\n                    <button id=\"GalleryPopupClose\" type=\"button\" class=\"btn btn-danger\" onClick={() => this.props.onClose('cancel')}> Close </button>\n                    <button id=\"GalleryPopupAdd\" type=\"button\" class=\"btn btn-success\" onClick={() => this.props.onAdd(this.state.photo_url !== null, this.state.photo_url)}> Add </button>\n                <PopupBody> \n                    <img id=\"GalleryImagePopup\"\n                        alt=\"\"\n                        src={this.state.photo_url}\n                        height={this.props.imgHeight}\n                        width={this.props.imgWidth}\n                    />\n                    <input className = \"form-control\"\n                        id=\"GalleryImageUpload\"\n                        type=\"file\"\n                        onChange={this.onImageUpload}\n                    />\n                </PopupBody>\n            </Popup>\n        )\n    }\n\n}\n\nexport default AddImagePopup\n","import React from \"react\"\nimport Table from './Table'\nimport DeleteItemPopup from './DeleteItemPopup'\nimport AddImagePopup from './AddImagePopup'\nimport { api_push, api_pull } from '../api/api'\n\nconst parseData = (data) => {\n    return data\n}\n\nclass Gallery extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {data:[], pshow:{'add':false, 'delete':false}}\n        this.togglePopup = this.togglePopup.bind(this)\n        this.onDeleteClicked = this.onDeleteClicked.bind(this)\n        this.onDeletePopupClose = this.onDeletePopupClose.bind(this)\n        this.onAddClicked = this.onAddClicked.bind(this)\n        this.loadGallery = this.loadGallery.bind(this)\n        this.onImageAdded = this.onImageAdded.bind(this)\n        this.api = '/admin/api/gallery'\n    }\n\n    loadGallery(){\n        api_pull(this.api, data => {\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:parseData(data)\n                }\n            })\n        })\n    }\n    componentDidMount() {\n        this.loadGallery()\n    }\n\n    onAddClicked() {\n        this.togglePopup('add')\n    }\n\n    onDeleteClicked(table, row) {\n        this.togglePopup('delete')\n        this.setState(old => {\n            return {\n                ...old,\n                staged_delete:row\n            }\n        })\n    }\n\n    togglePopup(popup){\n        this.setState(old => {\n            return {\n                ...old,\n                pshow:{\n                    [popup]:!old.pshow[popup]\n                }\n            }\n        })\n    }\n\n    onDeletePopupClose(action) {\n        this.togglePopup('delete')\n        if(action !== 'confirm')\n            return \n        api_push(this.api, {delete:this.state.data[this.state.staged_delete]})\n        this.setState(old => {\n            let newstate = {...old}\n            delete newstate.staged_delete\n            return newstate\n        })\n        this.loadGallery()\n    }\n\n    onImageAdded(changed, data){\n        this.togglePopup('add')\n        if(!changed)\n            return\n\n        api_push(this.api, {add:{photo_url:data}})\n        this.loadGallery()\n    }\n\n    render() {\n        return (\n            <div id=\"GalleryContainer\" class=\"container\">\n                <div className=\"Gallery\">\n                    <DeleteItemPopup\n                        show = {this.state.pshow.delete}\n                        onClose = {this.onDeletePopupClose}\n                    />\n                    <AddImagePopup \n                        show = {this.state.pshow.add}\n                        onClose = {() => this.togglePopup('add')}\n                        onAdd = {this.onImageAdded}\n                        menu = {this.menu}\n                        type = {this.state.type}\n                        imgHeight={250}\n                    />\n                    <Table \n                        heading='Photos'\n                        headingButton='Add'\n                        onAdd={this.onAddClicked}\n                        rowButton=\"Delete\"\n                        cssClassName = \"TableLeftButton\"\n                        onRowClick={()=>null}\n                        cols = {['ID', 'Image']}\n                        data = {this.state.data}\n                        onRowButtonClick= {this.onDeleteClicked}\n                        img_h=\"250\"\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Gallery\n","import React from \"react\"\nimport _ from \"lodash\"\nimport {api_push, api_pull} from '../api/api'\n\nconst parseData = (data) => {\n    return data\n}\n\nclass AboutUs extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {data:{heading:\"\", body:\"\"}}\n        this.originalData = {}\n        this.api = '/admin/api/aboutus'\n        this.loadData = this.loadData.bind(this)\n        this.onTextChange = this.onTextChange.bind(this)\n        this.onSave = this.onSave.bind(this)\n    }\n\n    loadData() {\n        api_pull(this.api, data => {\n            this.originalData = parseData(data)\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:parseData(data)\n                }\n            })\n        })\n    }\n\n    componentDidMount() {\n        this.loadData()\n    }\n\n    onSave(changed, data){\n        if(!changed)\n            return\n\n        api_push(this.api, {edit:data})\n        this.loadData()\n    }\n\n    onTextChange(event){\n        const {id, value} = event.target\n        this.setState(old => {\n            return {\n                ...old,\n                data: {\n                    ...old.data,\n                    [id]:value\n                }\n            }\n        })\n    }\n\n\n    render() {\n        return (\n            <div id=\"AboutUsMain\" class=\"container pt-3\">\n                <label id=\"AboutUsHeading\"> Heading </label>\n                <textarea class=\"form-control\"\n                    id=\"heading\"\n                    onChange={this.onTextChange}\n                    value={this.state.data.heading}\n                />\n\n                <label id=\"AboutUsBody\"> Body </label>\n                <textarea class=\"form-control\"\n                    id=\"body\"\n                    onChange={this.onTextChange}\n                    value={this.state.data.body}\n                />\n\n                <button id=\"AboutUsButton\" class=\"btn btn-success\" onClick={() => this.onSave(!_.isEqual(this.originalData, this.state.data), this.state.data)}> Save Changes </button>\n            </div>\n        )\n    }\n}\n\nexport default AboutUs\n","import React from \"react\"\nimport {api_pull, api_push} from '../api/api'\n\nclass ContactUs extends React.Component {\n\n    constructor(){\n        super()\n        this.state = {\n            data:{\n                email:'',\n                phone:'',\n                address:''\n\n        }}\n        this.onChange = this.onChange.bind(this)\n        this.loadFromDB = this.loadFromDB.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.api = '/admin/api/contactus'\n    }\n\n    loadFromDB(){\n        api_pull(this.api, data => {\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:{\n                        ...data\n                    }\n                }\n            })\n        })\n    }\n\n    componentDidMount(){\n        this.loadFromDB()\n    }\n\n    onChange(event){\n        const {id, value} = event.target\n        this.setState(old => {\n            return {\n                ...old,\n                data:{\n                    ...old.data,\n                    [id]:value\n                }\n            }\n        })\n    }\n\n    onSave() {\n        api_push(this.api, this.state.data)\n        this.loadFromDB()\n    }\n\n    render() {\n        return (\n            <div id=\"ContactUsMain\" class=\"container pt-3\">\n                <label id=\"AboutUsHeading\"> Phone </label>\n                <input\n                    class=\"form-control\"\n                    onChange={this.onChange}\n                    id=\"phone\"\n                    value={this.state.data.phone}\n                />\n                <label id=\"AboutUsHeading\"> Email </label>\n                <input\n                    class=\"form-control\"\n                    onChange={this.onChange}\n                    id=\"email\"\n                    value={this.state.data.email}\n                />\n                <label id=\"AboutUsHeading\"> Address </label>\n                <input\n                    class=\"form-control\"\n                    onChange={this.onChange}\n                    id=\"address\"\n                    value={this.state.data.address}\n                />\n                <button id=\"ContactUsButton\" class=\"btn btn-success\" onClick={this.onSave}> Save Changes </button>\n            </div>\n        )\n    }\n}\n\nexport default ContactUs\n","import React from \"react\"\nimport { api_pull} from '../api/api'\nimport { res } from '../res/res'\nimport _ from 'lodash'\nimport Card from './Card'\nimport {MAP_C2T} from '../res/CodeMappings'\nimport Dropdown from 'react-bootstrap/Dropdown'\n\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n    <div\n        ref={ref}\n        onClick={(e) => {\n            e.preventDefault();\n            onClick(e);\n        }}\n    >\n        {children}\n    </div>\n));\n\nconst parseData = data => {\n    return Object.values(data)\n}\n\nclass History extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.page = res.admin.pages[this.props.id]\n        this.api = this.page.api\n        this.state = {\n            'data': [],\n            'fdata':[],\n            'show':false,\n            'filters':{\n                'time':{\n                    '3600':false,\n                    '86400':false,\n                    '2592000':true\n\n                },\n                'type':{\n                    'local':false,\n                    'all':true,\n                    'delivery':false\n                },\n                'order':{\n                    'o2n':false,\n                    'n2o':true\n                }\n\n            }\n        }\n\n        this.onFilterChange = this.onFilterChange.bind(this)\n        this.handleMouseEnter = this.handleMouseEnter.bind(this)\n        this.handleMouseLeave = this.handleMouseLeave.bind(this)\n    }\n\n    componentDidMount() {\n        api_pull(this.api, d => {\n            let data = parseData(d)\n            this.setState( old => { \n                return {\n                    ...old, \n                    'data':data,\n                    'fdata': this.applyFilters(data, this.state.filters)\n                }\n            })})\n    }\n\n    checkBoxChange(filters, name, id){\n        Object.keys(filters[name]).forEach(key=> {\n            filters[name][key] = key === id\n        })\n    }\n\n    onFilterChange(event){\n        const {id, name} = event.target\n        this.setState(old => {\n            let newState = {..._.cloneDeep(old)}\n            this.checkBoxChange(newState.filters, name, id)\n            newState.fdata = this.applyFilters(newState.data, newState.filters)\n            return newState\n        })\n    }\n\n    select(filter){\n        return Object.keys(filter).filter(e => filter[e])[0]\n    }\n    \n    sortByTime(data, asc){\n        return data.sort((a,b)=> asc? a.time>b.time: a.time<b.time)\n    }\n\n    filterType(data, type){\n        return data.filter(e => (type === 'all')? true: MAP_C2T[e.type].toLowerCase() === type.toLowerCase())\n    }\n\n    filterTime(data, time){\n        return data.filter(e => e.time > (Date.now() - time*1000))\n    }\n\n    applyFilters(data, filters){\n        let filtered = this.sortByTime(data, filters.order.o2n)\n        filtered = this.filterType(filtered, this.select(filters.type))\n        filtered = this.filterTime(filtered, parseInt(this.select(filters.time)))\n        return filtered\n    }\n\n    handleMouseEnter() {\n        this.setState(old => {\n            return {\n                ...old,\n                show: true\n            }\n        })\n    }\n\n    handleMouseLeave() {\n        this.setState(old => {\n            return {\n                ...old,\n                show: false\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div className = \"History\">\n                \n                    <Dropdown className = \"DropDown\">\n                        <Dropdown.Toggle as={CustomToggle} id =\"dropdown-custom-components\">\n                            <div><i class=\"fas fa-filter fa-2x\"></i></div>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu id = \"HistoryDropDownMenu\">\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='order' id='n2o' checked={this.state.filters.order.n2o}/>\n                                <label>New to old</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='order' id='o2n' checked={this.state.filters.order.o2n}/>\n                                <label>Old to new</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='type' id='local' checked={this.state.filters.type.local}/>\n                                <label>Local only</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='type' id='delivery' checked={this.state.filters.type.delivery}/>\n                                <label>Delivery only</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='type' id='all' checked={this.state.filters.type.all}/>\n                                <label>All</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='time' id='3600' checked={this.state.filters.time['3600']}/>\n                                <label>Last 1 hour</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='time' id='86400' checked={this.state.filters.time['86400']}/>\n                                <label>Last 1 day</label>\n                            </Dropdown.Item>\n                            <Dropdown.Item as='button' className = \"HistoryDropDownItem\">\n                                <input className=\"HistoryDropDownCheckBox\" type='checkbox' onChange={this.onFilterChange} name='time' id=\"2592000\" checked={this.state.filters.time['2592000']}/>\n                                <label>Last 1 month</label>\n                            </Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                {\n                    (this.state.fdata)?\n                    this.state.fdata.map((e, i) =>{\n                        return (\n                            <Card \n                                key={i} \n                                id = {i}\n                                inputType='button'\n                                data={e} \n                                />\n                        )})\n                        :\n                        null\n                }\n            </div>\n        )\n    }\n}\n\nexport default History\n\n\n// true?\n// <div \n//     className = \"DropDownMenu\" \n//     onMouseLeave = {this.handleMouseLeave}>\n\n//     <label>New to old</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='order' id='n2o' checked={this.state.filters.order.n2o}/>\n//     <br/>\n//     <label>Old to new</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='order' id='o2n' checked={this.state.filters.order.o2n}/>\n//     <br/>\n\n//     <label>Local only</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='type' id='local' checked={this.state.filters.type.local}/>\n//     <br/>\n//     <label>Delivery only</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='type' id='delivery' checked={this.state.filters.type.delivery}/>\n//     <br/>\n//     <label>All</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='type' id='all' checked={this.state.filters.type.all}/>\n//     <br/>\n\n//     <label>Last 1 hour</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='time' id='3600' checked={this.state.filters.time['3600']}/>\n//     <br/>\n//     <label>Last 1 day</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='time' id='86400' checked={this.state.filters.time['86400']}/>\n//     <br/>\n//     <label>Last 1 month</label>\n//     <input type='checkbox' onChange={this.onFilterChange} name='time' id=\"2592000\" checked={this.state.filters.time['2592000']}/>\n//     <br/>\n// </div>\n// :\n// null\n// }\n","import styles from '../css/cssFile.css'\nimport Login from '../Components/Login'\nimport Deliveries from '../Components/Deliveries'\nimport DeliveriesSubTabs from '../Components/DeliveriesSubTabs'\nimport Orders from '../Components/Orders'\nimport Menu from '../Components/Menu'\nimport Deals from '../Components/Deals'\nimport Gallery from '../Components/Gallery'\nimport AboutUs from '../Components/AboutUs'\nimport ContactUs from '../Components/ContactUs'\nimport History from '../Components/History'\nimport Settings from '../Components/Settings'\nimport Signout from '../Components/Signout'\nimport '../css/cssFile.css'\n\nexport const res = {\n    'admin': {\n        'pages': [\n            //            {\n            //                'id': 0,\n            //                'title':'Login',\n            //                'component':Login,\n            //                'path':'/login'\n            //            },\n            {\n                'id': 1,\n                'title':'Deliveries',\n                'component':Deliveries,\n                'path':'/deliveries/pending',\n                'tabs': [\n                    {\n                        'name': 'Pending',\n                        'path':'/deliveries/pending',\n                        'component': DeliveriesSubTabs,\n                        'api': '/api/orders?status=0',\n                        'buttons': ['Accept', 'Reject'],\n                        'buttonscss': [\"btn btn-success\", \"btn btn-danger\"]\n                    },\n                    {\n                        'name':'In Progress',\n                        'path':'/deliveries/inprogress',\n                        'component': DeliveriesSubTabs,\n                        'api': '/api/orders?status=1',\n                        'buttons': ['Completed', 'Failed'],\n                        'buttonscss': [\"btn btn-success\", \"btn btn-danger\"]\n                    }, \n                    {\n                        'name':'Completed',\n                        'path':'/deliveries/delivered',\n                        'component': DeliveriesSubTabs,\n                        'api': '/api/orders?status=2',\n                        'buttons':['Delivered', 'Failed'],\n                        'buttonscss': [\"btn btn-success\", \"btn btn-danger\"]\n\n                    }\n                ]\n            },\n            {\n                'id': 2,\n                'title':'Orders',\n                'component':Orders,\n                'path':'/orders',\n                'api':'/api/orders',\n                'tables': \n                {\n                    'Mains':\n                    {\n                        'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                    },\n                    'Deals':\n                    {\n                        'cols':['ID', 'Name', 'Items', 'Image', 'Price']\n                    },\n                    'Drinks':\n                    {\n                        'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                    },\n                    'Extras':\n                    {\n                        'heading':'Extras',\n                        'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                    }\n                }\n            },\n            {\n                'id': 3,\n                'title':'Menu',\n                'component':Menu,\n                'path':'/menu',\n                'api':'/api/menu',\n                'tables': \n                [\n                        {\n                            'heading':'Mains',\n                            'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                        },\n                        {\n                            'heading':'Drinks',\n                            'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                        },\n                        {\n                            'heading':'Extras',\n                            'cols':['ID', 'Name', 'Description', 'Image', 'Price']\n                        }\n                    ]\n            },\n            {\n                'id': 4,\n                'title':'Deals',\n                'component':Deals,\n                'path':'/deals',\n                'api':'/admin/api/deals'\n            },\n            {\n                'id': 5,\n                'title':'Gallery',\n                'component':Gallery,\n                'path':'/gallery'\n            },\n            {\n                'id': 6,\n                'title':'About Us',\n                'component':AboutUs,\n                'path':'/aboutus'\n            },\n            {\n                'id': 7,\n                'title':'Contact Us',\n                'component':ContactUs,\n                'path':'/contactus'\n            },\n            {\n                'id':8,\n                'title':'History',\n                'component':History,\n                'path':'/history',\n                'api':'/api/orders?status=3'\n            \n            },\n            {\n                'id': 9,\n                'title':'Settings',\n                'component':Settings,\n                'path':'/settings'\n            },\n            {\n                'id':10,\n                'component':Signout,\n                'path':'/signout'\n            }\n        ],\n\n        'navbar': {\n            'logo':'',\n            'left': [1,2,3,4,5,6,7],\n            'dropdown': {\n                'title': 'Hi, Admin',\n                'options': [\n                    {'name':'History', 'path':'/history'},\n                    {'name':'Settings', 'path':'/settings'},\n                    {'name':'Signout', 'path':'/signout'},\n                ]\n            }\n        },\n\n        'css_classes': {\n            'Logo':'Logo',\n            'NavBar': 'NavBar',  //the <div> that wraps NavBarElements\n            'NavBarElement': 'NavBarElement',  // <div>\n            'NavBarDropdown': 'NavBarDropdown',  // <div>\n            'Footer': '', //div\n            'Header': 'Header', //div\n            'Deliveries':'Deliveries',\n            'DSubTabs' : 'DSubTabs',\n            'DSubTabElement' : 'DSubTabElement',\n            'DeliveriesSubTabs': '',\n            'Popup':'',\n            'DeliveriesSubTabClicked': 'DeliveriesSubTabClicked',\n            'DeliveriesButtons':'DeliveriesButtons',\n            'DeliveriesContainer': 'DeliveriesContainer',\n            'DeliveriesInfo': 'DeliveriesInfo',\n            'NavBarDivider': 'NavBarDivider', //div\n            'OrdersRightTable': 'OrdersRightTable',\n            'Orders': 'Orders',\n            'OrdersLeftTable': 'OrdersLeftTable',\n            'TableHeadingAndButtonDiv': 'TableHeadingAndButtonDiv',\n            'TableHeading': 'TableHeading',\n            'TableAddButton': 'TableAddButton',\n            'TableColumnHeadings': 'TableColumnHeadings',\n            'TableBody': 'TableBody',\n            'TableRow': 'TableRow'\n        }\n\n    }\n\n\n}\n","import React from \"react\"\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\nimport Tooltip from 'react-bootstrap/Tooltip'\nimport Alert from 'react-bootstrap/Alert'\nimport {api_pull, api_push} from '../api/api'\n\nclass Settings extends React.Component {\n\n    constructor(){\n        super()\n        this.state = {\n            data: {\n                username:'mushtaq',\n                password:'',\n                newPassword1:'',\n                newPassword2:'',\n                minOrder:'',\n                otime:'',\n                ctime:'',\n                photo_url:\"https://i.ytimg.com/vi/L6yX6Oxy_J8/maxresdefault.jpg\", \n            },\n            visible:false\n        }\n        this.onImageUpload = this.onImageUpload.bind(this)\n        this.handleClick = this.handleClick.bind(this)\n        this.onSave = this.onSave.bind(this)\n        this.onChange = this.onChange.bind(this)\n        this.pullFromDB = this.pullFromDB.bind(this)\n        this.api = '/admin/api/settings'\n    }\n\n    pullFromDB(){\n        api_pull(this.api, data => {\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:{\n                        ...data\n                    }\n                }\n            })\n        })\n    }\n\n    componentDidMount(){\n        this.pullFromDB()\n    }\n\n    onImageUpload(event){\n        let file = event.target.files[0]\n        var reader = new FileReader()\n        let dataurl = ''\n        reader.onload = () => {\n            dataurl = reader.result\n            console.log(dataurl)\n            this.setState(old => {\n                return {\n                    ...old,\n                    data:{\n                        ...old.data,\n                        'photo_url':dataurl\n                    }\n                }\n            })\n        }\n        reader.readAsDataURL(file)\n    }\n\n    handleClick(){\n        this.setState({visible:true}, () =>{\n            window.setTimeout(() => {\n                this.setState({visible:false})\n            }, 2000)\n        })\n    }\n\n    onChange(event) {\n        const {id, value} = event.target\n        this.setState(old => {\n            return {\n                ...old,\n                data:{\n                    ...old.data,\n                    [id]: value\n                }\n            }\n        })\n    }\n\n    onSave(){\n        if(this.state.newPassword1 !== this.state.newPassword2){\n            console.log('not sending')\n        }\n        api_push(this.api, this.state.data)\n    }\n\n    render() {\n        console.log(this.state.data)\n        return (\n            <div>\n                <div className = \"Marginer\"></div>\n                <div id = \"AccountSettings\" className = \"container mt-5 pt-3 mb-5 pb-3\">\n                    <h1 id = \"AccountSettingsHeading\">Account Settings</h1>\n                        <h2>Change Username</h2>\n                        <div className = \"form-group\">\n                            <input value={this.state.data.username} className = \"form-control\" id=\"username\" onChange={this.onChange} type=\"text\" placeholder=\"Username\" required />\n                        </div>\n                        <OverlayTrigger \n                            key = \"left\"\n                            placement = \"left\"\n                            overlay = {\n                                <Tooltip id = \"tooltip-left\">\n                                    Password must be atleast <strong>8</strong> character long, having atleast <strong>one upper case character</strong>, <strong>one lower case character</strong>, and <strong>one digit</strong>.\n                                </Tooltip>\n                            }\n                        >\n                        <h2>Change Password</h2>\n                        </OverlayTrigger>\n                        <div className = \"form-group\">\n                            <input value ={this.state.data.password} type = \"password\" onChange={this.onChange} className = \"form-control\" id = \"password\" placeholder = \"Current Password\" name = \"passwords\" required />\n                        </div>\n                        <div className = \"form-group\">\n                            <input value={this.state.data.newPassword1} className = \"form-control\" onChange={this.onChange} type=\"password\" id=\"newPassword1\" placeholder=\"New Password\"  required />\n                        </div>\n                        <div className = \"form-group\">\n                            <input value={this.state.data.newPassword2} className = \"form-control\" onChange={this.onChange} type=\"password\" id=\"newPassword2\" placeholder=\"Re-enter New Password\" required/>\n                        </div>\n                        <h1>Resaurant Settings</h1>\n                        <h2>Change Timings</h2>\n                        <div className = \"form-group\">\n                        <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">Opening</span>\n                            </div>\n                            <input id=\"SettingOpening\" value={this.state.data.otime} className = \"form-control\" onChange={this.onChange} type=\"time\" required/>\n                        </div>\n                        <div className = \"form-group\">\n                        <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">Closing</span>\n                            </div>\n                            <input id=\"SettingClosing\" value={this.state.data.ctime} className = \"form-control\" onChange={this.onChange} type=\"time\" required/>\n                        </div>\n                        <h2>Minimum Order</h2>\n                        <div className = \"input-group\">\n                            <div class=\"input-group-prepend\">\n                                <span class=\"input-group-text\">Rs</span>\n                            </div>\n                            <input id=\"minOrder\" value={this.state.data.minOrder} className = \"form-control\" onChange={this.onChange} type=\"numbers\" placeholder=\"00\"/>\n                        </div>\n                        <h2>Site Banner</h2>\n                        <img id = \"AccountSettingsImage\" className = \"rounded\" alt = \"Uploaded Image\" height=\"200\" src={this.state.data.photo_url}/>\n                        <div className = \"custom-file\">\n                            <input type=\"file\" id = \"customFile\" className = \"custom-file-input\" onChange={this.onImageUpload} name = \"filename\"/>\n                            <label className=\"custom-file-label\" for=\"customFile\" value={this.state.data.photo_url}>Choose image file to upload</label>\n                        </div>\n                        <button onClick = {this.onSave}  className = \"btn mt-3 btn-dark\">Save</button>\n                        <Alert variant = \"success\" show = {this.state.visible}>\n                            <strong>Changes Saved Succesfully!</strong>\n                        </Alert>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Settings\n","import React from \"react\"\nimport {Redirect} from \"react-router-dom\"\nimport Cookie from \"js-cookie\"\n\nconst Signout = (props) => {\n    props.deAuth()\n    Cookie.remove('session')\n    Cookie.remove('token')\n    return <Redirect to='/login'/>\n}\n\nexport default Signout\n","import React from 'react'\nimport { res } from '../res/res'\nimport { Link } from 'react-router-dom'\n\n\nclass NavBarElement extends React.Component{\n    constructor(props) {\n        super(props)\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    handleClick(event) {\n        console.log(event.target)\n    }\n\n    render() {\n        return (\n            <Link to={res.admin.pages[this.props.id].path}>\n                <div \n                    className= {res.admin.css_classes.NavBarElement} \n                    onClick={(event) => this.handleClick(event)}> \n                        {this.props.name} \n                </div>\n            </Link>\n        )\n    }\n}\n\nconst NavBarDivider = () => {\n    return <div className = {res.admin.css_classes.NavBarDivider}></div>\n}\nclass NavBarDropdown extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {'show': false}\n        this.handleMouseEnter = this.handleMouseEnter.bind(this)\n        this.handleMouseLeave = this.handleMouseLeave.bind(this)\n    }\n\n    handleMouseEnter() {\n        this.setState(old => {\n            return {\n                ...old,\n                show: true\n            }\n        })\n    }\n\n    handleMouseLeave() {\n        this.setState(old => {\n            return {\n                ...old,\n                show: false\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <div className = {res.admin.css_classes.NavBarDropdown}>\n                    {this.props.title}\n                    <img className = 'DropDownArrow' onMouseEnter = {this.handleMouseEnter} src ={require('../img/polygon.png')} height = '15' width = '15' alt = 'polygon' />\n                </div>\n                {this.state.show?\n                <div className = \"DropDownMenu\" onMouseLeave = {this.handleMouseLeave}>\n                    <div className = \"DropDownElement\">\n                        {\n                            this.props.options.map((option, i) => {\n                                return <Link key={i} to={option.path} deauth={this.props.deAuth}> {option.name} </Link>\n                            })\n                        }\n                    </div>\n                </div>\n                :\n                null\n            }\n            </div>\n        )\n    }\n}\nconst LogoImg = () =>  <div className = {res.admin.css_classes.Logo}><img alt=\"\" src = {require('../img/logo.png')} height = '50' width = '50' /></div>\nclass NavBar extends React.Component {\n    render() {\n        return (\n            <div className = {res.admin.css_classes.NavBar} >\n                <LogoImg className = {res.admin.css_classes.Logo} />\n                {\n                    res.admin.navbar.left.map( (e,i) => {\n                        return <NavBarElement key={i} id={i} name={res.admin.pages[i].title} />\n                })}\n                <NavBarDivider />\n                <NavBarDropdown \n                    title = {res.admin.navbar.dropdown.title}\n                    options= {res.admin.navbar.dropdown.options}\n                    deAuth={this.props.deAuth}\n                />\n            </div>\n        );\n    }\n}\n\nexport default NavBar\n","import React from 'react';\nimport { res } from '../res/res'\n\nclass Footer extends React.Component {\n    render() {\n        return <div className = {res.admin.css_classes.Footer} />\n    }\n}\n\nexport default Footer\n","import React from 'react';\nimport { res } from './res/res.js'\nimport Header from './Components/Header'\nimport NavBar from './Components/NavBar'\nimport Footer from './Components/Footer.js'\nimport Login from './Components/Login'\nimport Cookie from 'js-cookie'\nimport {\n  BrowserRouter as Router,\n  Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\n\nclass App extends React.Component {\n    constructor(){\n        super()\n        this.state = {auth:false}\n        this.checkAuth = this.checkAuth.bind(this)\n        this.cookie = Cookie.get('session')\n    }\n\n    checkAuth(cookie){\n        return cookie\n    }\n\n    componentDidMount(){\n        if(this.checkAuth(this.cookie))\n            this.setState({auth:true})\n    }\n\n    render() {\n        return this.state.auth?\n            (\n                <Router>\n                    <Redirect to=\"/deliveries/pending\"/>\n                    <div>\n                        <NavBar />\n                        {\n                            res.admin.pages.map((e,i) => {\n                                return (\n                                    <Switch key={e.id}>\n                                        <Route path={`/${e.path.split('/')[1]}`} component={ () => React.createElement(e.component, {'id':i, 'deAuth':()=>this.setState({auth:false})})} />\n                                    </Switch>\n                                )\n                            })}\n                            <Footer />\n                        </div>\n                    </Router>\n            )\n            :\n            (\n                <Router>\n                    <div>\n                        <Redirect to=\"/login\"/>\n                        <Login \n                            setAuth={() => this.setState({auth:true})} \n                            deAuth = {() => this.setState({auth:false})}\n                        />\n                    </div>\n                </Router>\n            )\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n//import 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}