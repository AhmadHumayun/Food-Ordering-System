(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{53:function(e,t,a){},61:function(e,t,a){e.exports=a(76)},66:function(e,t,a){},73:function(e,t,a){e.exports=a.p+"static/media/delete.877e3e61.png"},74:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAXCAYAAAD6FjQuAAAABHNCSVQICAgIfAhkiAAAAplJREFUSEutVU+IElEcHmccc4sFW8ookV1wgzrswQ51Er2ph06eQhA66KGLT4TdEWv9c5hhHdQH0cE1YtnzQp4UokNzHQrKU6GH8BJkLIG4ruM4xhNnV83RGdcfCIPv973vfb/53jc6AAAgCOImjuM4QRCEJElbkiRt6i4Ln/GMYxgm/z1cF0XxRrvd3sRmFwchdOkikcjzwWDwzu12D9s2NjaGP621traGWSyWCVin08ESiUS31+s9gBD+1KFViqI+ezweu9PpRCdeWZ2cnHR4nj9iWfYF2nRIBgDYIknyRyqVMqATrqJOT08xmqY7/X7/HoTw7wUZetjd3aVtNhsIhUIrYYMQnjUajZf5fD4vH36obKTOZDAYasFg8Nb29vaVxNXrdezw8PA3y7J3xje6IBsRutbX1yvpdNp4Fbb9/f3zVqvlhRB+UiRDC7FY7KPD4XB5vV5iGUKO46RKpfLl4ODg8TR+QplsFr1e/z0Wi13TegWQ1ZPJpCAIwhMI4deFZKghGo1GrVZrOhwOX9eirlwudzmOe5/JZJ7Nwv2nTG7a29ur+/1+287Ojio+ZHWGYc5FUbwrW12VMtksJEl+SKVSpJq7VygUOrVaLZvNZl8pnU5RGQLE4/G3drs94PP5yHnykNWLxeKfTCZze17fXDIAgEmv1/8CABinc298U5qmz5rNph9CWFqaDAFRUJvN5jcURc1MFp7npVKp9I1hmEeLXu5cZTJYKagXWV21QcYblYJ6kdWXIkOg6aAes/pD9K1aNEK0rmqMo6swEdTHx8ftarWan2f1pZWNB3UgEDAiqwuCcF/pAmtKEKWxoKCWJMnZ7XaDEMIjNeOTe1SPUQYgs+A4/jqXyz3VQqTpnU2506RlfDL2H5X1GyezqwhdAAAAAElFTkSuQmCC"},75:function(e,t,a){e.exports=a.p+"static/media/logo.520d67da.png"},76:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(22),s=a.n(i),r=(a(66),a(6)),l=a(7),c=a(2),u=a(9),d=a(8),p=(a(53),a(49)),m=a.n(p),h=a(57),b=a(12),f=a(3),v=function(e,t){fetch(e).then((function(e){return console.log(e),e.json()})).then((function(e){return t(function(e,t){return e.data}(e))})).catch((function(e){return console.log(e)}))},g=function(e,t,a){var n={data:t};console.log(n),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return console.log(e),a?e.json():null})).then((function(e){return a(e)})).catch((function(){return console.log("caught")}))},O=a(37),y=a(27),E=a.n(y),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.api="/admin/api/login",n.state={username:"",password:"",visible:!1,incorrect:!1},n.onChange=n.onChange.bind(Object(c.a)(n)),n.onLogin=n.onLogin.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){return Object(f.a)({},e,Object(b.a)({},a,n))}))}},{key:"onLogin",value:function(){var e=this;g(this.api,Object(f.a)({},this.state),function(){var t=Object(h.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.success){t.next=8;break}return e.setState({visible:!0},(function(){window.setTimeout((function(){e.setState({visible:!1})}),2e3)})),t.next=4,e.sleep(1e3);case 4:e.props.setAuth(),E.a.set("session",!0),t.next=9;break;case 8:e.setState({incorrect:!0},(function(){window.setTimeout((function(){e.setState({incorrect:!1})}),2e3)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return o.a.createElement("div",{className:"LoginContainer"},o.a.createElement("h1",{className:"LoginHeading"},"Welcome to Smoke&Grill Admin System"),o.a.createElement("input",{class:"form-control",value:this.state.username,onChange:this.onChange,type:"text",id:"username",placeholder:"Username"}),o.a.createElement("input",{class:"form-control",value:this.state.password,onChange:this.onChange,type:"password",id:"password",placeholder:"Password"}),o.a.createElement("button",{class:"btn btn-success",type:"button",id:"LoginButton",onClick:this.onLogin},"Login"),o.a.createElement(O.a,{className:"AlertIncorrect",variant:"success",show:this.state.visible},o.a.createElement("strong",null,"Welcome ",this.state.username,"!")),o.a.createElement(O.a,{className:"AlertIncorrect",variant:"danger",show:this.state.incorrect},o.a.createElement("strong",null,"Incorrect Username or Password!")))}}]),a}(o.a.Component),C=a(44),j=a(41),D=a(20),w=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).page=n.props.page,n}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:pe.admin.css_classes.DSubTabs},this.page.tabs.map((function(e,t){return o.a.createElement(D.b,{key:t,to:"".concat(e.path)},o.a.createElement("button",{type:"button",className:"btn btn-success",id:pe.admin.css_classes.DSubTabElement},e.name,"Delivered"!==e.name?o.a.createElement(C.a,{key:"top",placement:"top",overlay:o.a.createElement(j.a,{id:"tooltip-top"},"Number of orders ",e.name,".")},o.a.createElement("span",{id:"badge",className:"badge badge-light"})):null))})))}}]),a}(o.a.Component),A=a(23),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).page=pe.admin.pages[n.props.id],n.api=n.page.api,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement(D.a,null,o.a.createElement("div",{className:pe.admin.css_classes.Deliveries},o.a.createElement(w,{page:this.page}),o.a.createElement("div",{className:pe.admin.css_classes.DeliveriesSubTabClicked},this.page.tabs.map((function(t,a){return o.a.createElement(A.d,{key:a},o.a.createElement(A.b,{exact:!0,path:"".concat(t.path),component:function(){return o.a.createElement(t.component,{page:e.page,tab_id:a})}}))})))))}}]),a}(o.a.Component),N=a(10),S=a.n(N),B=function(e){return e.inputs?o.a.createElement("div",null,e.inputs.map((function(t,a){return o.a.createElement("input",{className:e.classNames[a],id:"Accept",key:a,value:t,onClick:function(){return e.onClick({name:t,id:a},e.id)},type:e.type})}))):null},I={0:"Pending",1:"In Progress",2:"Completed",3:"Delivered"},_={1:"Local",0:"Delivery"},T=function(e){return o.a.createElement("div",{className:e.style},o.a.createElement("h2",{className:e.headingStyle},e.heading),e.headingButton?o.a.createElement("button",{type:"button",class:"btn btn-dark",id:e.buttonStyle,onClick:function(){return e.onAdd?e.onAdd(e.heading):null}},e.headingButton):null)},x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).css=pe.admin.css_classes,a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(T,{style:this.css.TableHeadingAndButtonDiv,heading:this.props.heading,headingStyle:this.css.TableHeading,headingButton:this.props.headingButton,buttonStyle:this.css.TableAddButton,onAdd:this.props.onAdd}),o.a.createElement("table",{className:"table table-dark table-stripped table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{className:this.css.TableColumnHeadings},this.props.cols.map((function(e,t){return o.a.createElement("th",{key:t}," ",e," ")})))),o.a.createElement("tbody",{className:this.css.TableBody},this.props.data?this.props.data.map((function(t,n){return o.a.createElement("tr",{className:e.css.TableRow,key:n},e.props.cols.map((function(a,i){return o.a.createElement("td",{onClick:function(){return e.props.onRowClick?e.props.onRowClick(e.props.heading,n):null},key:i},"items"===a.toLowerCase()?(s=t.items)?o.a.createElement("div",null,s.map((function(e,t){return o.a.createElement("li",{key:t}," ",e.quantity," ",e.name," ")}))):null:"image"!==a.toLowerCase()?t[a.toLowerCase()]:o.a.createElement("img",{width:e.props.img_w?e.props.img_w:e.props.img_h?null:30,height:e.props.img_h,alt:"",src:t.photo_url}));var s})),e.props.rowButton?o.a.createElement("td",null,o.a.createElement("img",{onClick:function(){return e.props.onRowButtonClick?e.props.onRowButtonClick(e.props.heading,n):null},alt:"",className:e.props.cssClassName,src:a(73),width:"30",height:"30"})):null)})):null)),this.props.footerButton?o.a.createElement("div",null,o.a.createElement("p",null," ",this.props.footerText," "),o.a.createElement("button",{type:"button",class:"btn btn-success",id:this.props.cssClassName,onClick:this.props.onFooterButtonClick?this.props.onFooterButtonClick:null}," ",this.props.footerButton," ")):null)}}]),n}(o.a.Component),R=function(e){return o.a.createElement("ul",null,e.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("li",{style:{listStyleType:"circle"},key:t},e.list_name," : ",e.option_choice," "),o.a.createElement("br",null))})))},F=function(e){var t=Object(f.a)({},e);return"Local"===_[e.type]&&(delete t.address,delete t.contact_no,delete t.email),Object.keys(t).map((function(t){var a="deals"===t?e[t].map((function(e,t){return a=e,n=t,o.a.createElement("div",{key:n},o.a.createElement("h5",{style:{fontWeight:"bold",textDecoration:"underline overline"}}," ",a.name," "),a.items?a.items.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("h6",null," ",e.name," "),o.a.createElement("div",null,R(e.option_list_choices)))})):null);var a,n})):"items"===t?e[t].map((function(e,t){return function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("h6",null," ",e.name," "),o.a.createElement("div",{className:"CardInfoInner"},o.a.createElement("div",null,R(e.option_list_choices))))}(e,t)})):o.a.createElement("div",null,o.a.createElement("p",null," ","status"===t?I[e[t]]:"type"===t?_[e[t]]:"time"===t?function(e){var t=new Date(parseInt(e)),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getDate(),i=t.getHours(),s="0"+t.getMinutes();return"".concat(o,"-").concat(n,"-").concat(a," @ ").concat(i>12?i-12:i,":").concat(s.substr(-2)," ").concat(i>=12?"PM":"AM")}(e[t]):e[t]));return{field:t.toUpperCase(),data:a}}))},H=function(e){return o.a.createElement("div",{className:"DeliveriesTable"},o.a.createElement("div",{className:pe.admin.css_classes.DeliveriesButtons},o.a.createElement(B,{id:e.id,inputs:e.inputs,classNames:e.inputClassNames,type:e.inputType,onClick:e.onClick})),o.a.createElement(x,{heading:_[e.data.type],cssClassName:"",cols:["Field","Data"],data:F(e.data)}))},M=function(e){return o.a.createElement("div",null,e.children)},L=function(e){return o.a.createElement("div",null,e.children)},U=function(e){return o.a.createElement("div",null,e.children)},q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.show?o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popupInner"},this.props.children)):null}}]),a}(o.a.Component),G=function(e){if(!("items"in e)){return e}return e.items.forEach((function(e){!function(e){"option_list_choices"in e?e.option_list_choices=Object.values(e.option_list_choices):e.option_list_choices=[]}(e)})),e},W=function(e){return e=function(e){return"deals"in e?(e.deals=Object.values(e.deals),e.deals.forEach((function(e){G(e)})),e):(e.deals=[],e)}(e=G(e))},J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).page=n.props.page,n.tab_id=n.props.tab_id,n.tab=n.page.tabs[n.tab_id],n.api=n.tab.api,n.apiOrderManagement="/admin/api/orders/management",n.state={data:[],showpopup:!1},n.clickHandler=n.clickHandler.bind(Object(c.a)(n)),n.onPopupClose=n.onPopupClose.bind(Object(c.a)(n)),n.onOrderRejected=n.onOrderRejected.bind(Object(c.a)(n)),n.reloadData=n.reloadData.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"reloadData",value:function(){var e=this;v(this.api,(function(t){return e.setState((function(e){if(t){var a=Object.values(t);return a.forEach((function(e){W(e)})),Object(f.a)({},S.a.cloneDeep(e),{data:a})}}))}))}},{key:"componentDidMount",value:function(){this.reloadData()}},{key:"clickHandler",value:function(e,t){if(1!==e.id){console.log("Accepted order ".concat(this.state.data[t].id));var a=S.a.cloneDeep(this.state.data[t]);a.status=parseInt(a.status)+1,g(this.apiOrderManagement,{edit:Object(f.a)({},a)}),this.reloadData()}else this.setState((function(e){return Object(f.a)({},e,{showpopup:!0,reject_id:t})}))}},{key:"onPopupClose",value:function(){this.setState((function(e){return Object(f.a)({},e,{showpopup:!1})}))}},{key:"onOrderRejected",value:function(){var e=S.a.cloneDeep(this.state.data[this.state.reject_id]);e.status=-1,this.onPopupClose(),g(this.apiOrderManagement,{edit:Object(f.a)({},e)}),this.reloadData()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(q,{show:this.state.showpopup},o.a.createElement(M,null,o.a.createElement("div",{className:"DeliveriesPopupHeading"},"Reject")," "),o.a.createElement(L,null,o.a.createElement("p",{className:"DeliveriesPopupSubHeading"},"Are you sure you want to reject this delivery?")),o.a.createElement(U,null,o.a.createElement("div",{className:"DeliveriesPopupButtons"},o.a.createElement("button",{id:"DeliveriesPopupClose",class:"btn btn-success",onClick:this.onPopupClose}," Close "),o.a.createElement("button",{id:"DeliveriesPopupReject",class:"btn btn-danger",onClick:this.onOrderRejected}," Reject ")))),this.state.data.map((function(t,a){return o.a.createElement(H,{key:a,id:a,inputType:"button",inputClassNames:e.tab.buttonscss,inputs:e.tab.buttons,data:t,onClick:e.clickHandler})})))}}]),a}(o.a.Component),V=a(13),K=function e(){Object(r.a)(this,e)};K.parseDealOptions=function(e){var t={};return e.forEach((function(e){t=Object(f.a)({},t,{},K.parseItemOptions(e.options_lists,e.name,e.quantity))})),t},K.parseItemOptions=function(e,t,a){var n=[];e.forEach((function(e){var t={name:Object.keys(e)[0],options:Object.values(e)[0]};n=[].concat(Object(V.a)(n),[t])}));var o={};return a||(a=1),Array(a).fill(a).forEach((function(e,a){o["".concat(t," #").concat(a+1)]=n})),Object(f.a)({},o)},K.parseMenuBeforePush=function(e,t){return Object(b.a)({},e,t)},K.parseDealsBeforePush=function(e,t){var a=[];return e.items&&e.items.forEach((function(e){return a=[].concat(Object(V.a)(a),Object(V.a)(Array(parseInt(e.quantity)).fill(e.id)))})),e.items=a,Object(b.a)({},t,e)},K.filterSelected=function(e,t,a,n,o){var i=a.map((function(e){return Object.keys(e)[0]})),s={};return i.forEach((function(a){var i="".concat(e," #").concat(t);console.log(i);var r=n[i][a],l=Object.keys(r).filter((function(e){return r[e].checked}))[0],c=Object.values(r).filter((function(e){return e.checked}))[0].charge;s[a]="name"===o?l:c})),s},K.parseBillItem=function(e,t,a){return Array(a).fill(0).map((function(a,n){return{name:e.name,id:e.id,price:e.price,options:K.filterSelected(e.name,n+1,e.options_lists,t,"name"),optionsPrices:K.filterSelected(e.name,n+1,e.options_lists,t,"price")}}))},K.combine=function(e){return e.reduce((function(e,t){return[].concat(Object(V.a)(e),Object(V.a)(t))}),[])},K.parseBillDeal=function(e,t){return{name:e.name,id:e.id,price:e.price,items:K.combine(e.items.map((function(e,a){return K.parseBillItem(e,t,e.quantity)})))}},K.parseBillEntry=function(e,t){return e.items?K.parseBillDeal(e,t):K.parseBillItem(e,t,e.qty)[0]},K.parseBillForPost=function(e,t){if(0!==e.length)return e.map((function(e,a){return K.parseBillEntry(e,t)}))};var Q=K,Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).page=pe.admin.pages[n.props.id],n.options_charges=0,n.billtable=n.page.tables.right,n.css=pe.admin.css_classes,n.state={tables:{},bill:[],showpopup:!1,checked:{}},n.onAdd=n.onAdd.bind(Object(c.a)(n)),n.onRowClick=n.onRowClick.bind(Object(c.a)(n)),n.onBillRowClick=n.onBillRowClick.bind(Object(c.a)(n)),n.totalBill=n.totalBill.bind(Object(c.a)(n)),n.onGenerateBill=n.onGenerateBill.bind(Object(c.a)(n)),n.showPopup=n.showPopup.bind(Object(c.a)(n)),n.api=n.page.api,n.showOptionsPopup=n.showOptionsPopup.bind(Object(c.a)(n)),n.createCheckBox=n.createCheckBox.bind(Object(c.a)(n)),n.hideOptionsPopup=n.hideOptionsPopup.bind(Object(c.a)(n)),n.addToBill=n.addToBill.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"parse_deals",value:function(e){var t={};return t.Deals=Object.values(e),t}},{key:"parse_menu",value:function(e){return Object.keys(e).forEach((function(t){e[t]=Object.values(e[t])})),e}},{key:"componentDidMount",value:function(){var e=this;v("/admin/api/deals",(function(t){v("/admin/api/menu",(function(a){e.setState((function(n){return Object(f.a)({},n,{tables:Object(f.a)({},e.parse_deals(t),{},e.parse_menu(a))})}))}))}))}},{key:"optionsToString",value:function(e){var t=this;return Object.keys(e).map((function(a,n){return o.a.createElement("div",{key:n},o.a.createElement("h5",null," ",a," "),Object.keys(e[a]).map((function(n,i){var s=e[a][n],r=Object.keys(s).filter((function(e){return s[e].checked})),l=Object.values(s).filter((function(e){return e.checked}))[0].charge;return t.options_charges+=l,o.a.createElement("div",{key:i},o.a.createElement("h6",null,n," : ",r," : + ",l))})))}))}},{key:"onAdd",value:function(){var e=this.optionsToString(this.state.checked),t=this.state.staged_add,a=t.table,n=t.row;this.addToBill(a,n,e,this.options_charges),this.hideOptionsPopup(),this.options_charges=0,this.setState((function(e){var t=S.a.cloneDeep(e);return delete t.options_lists,t}))}},{key:"addToBill",value:function(e,t,a,n){var o=Object(f.a)({},this.state.tables[e][t]);this.setState((function(e){var t=Object(V.a)(e.bill);return t.forEach((function(e,t){})),o.qty=1,o.charges=n,t=[].concat(Object(V.a)(t),[o]),o.options=[a],Object(f.a)({},e,{bill:Object(V.a)(t)})}))}},{key:"onRowClick",value:function(e,t){this.showOptionsPopup(e,t)}},{key:"initCheckBoxState",value:function(e,t){var a=this.parseOptionsLists(e,t),n={};return Object.keys(a).forEach((function(e){n[e]={},a[e].forEach((function(t){n[e][t.name]={},Object.keys(t.options).forEach((function(a,o){n[e][t.name][a]={checked:!o,charge:parseInt(t.options[a])}}))}))})),n}},{key:"parseOptionsLists",value:function(e,t){var a=this.state.tables[e][t];return"Deals"===e?Q.parseDealOptions(a.items):Q.parseItemOptions(a.options_lists,a.name)}},{key:"showOptionsPopup",value:function(e,t){var a=this;this.setState((function(n){return Object(f.a)({},n,{showpopup:!0,options_lists:a.parseOptionsLists(e,t),checkeda:Object(f.a)({},S.a.cloneDeep(n.checked),{},S.a.cloneDeep(a.initCheckBoxState(e,t))),checked:Object(f.a)({},a.initCheckBoxState(e,t)),staged_add:{table:e,row:t}})}))}},{key:"hideOptionsPopup",value:function(){this.setState((function(e){return Object(f.a)({},e,{showpopup:!1})}))}},{key:"removeOptions",value:function(e,t){var a=S.a.cloneDeep(t);return Object.keys(e).forEach((function(e){delete a[e]})),a}},{key:"onBillRowClick",value:function(e,t){var a=this;this.setState((function(e){var n=Object(V.a)(e.bill);return n[t].qty-=1,0===n[t].qty&&(n=n.filter((function(e,a){return a!==t}))),Object(f.a)({},e,{bill:Object(V.a)(n),checkeda:a.removeOptions(e.checked,e.checkeda),checked:{}})}))}},{key:"totalBill",value:function(){var e=0;return this.state.bill.forEach((function(t){e+=t.price*t.qty+t.charges})),e}},{key:"showPopup",value:function(){this.setState((function(e){return Object(f.a)({},e,{showbill:!0})}))}},{key:"onGenerateBill",value:function(){this.showPopup();var e={user:"admin",address:"nothing",phone:"nothing",status:1,type:1};console.log(this.state.checkeda),e.orders=Q.parseBillForPost(this.state.bill,this.state.checkeda),g("/admin/api/orders",e),this.setState((function(e){return Object(f.a)({},e,{bill:[]})}))}},{key:"onChecked",value:function(e,t,a){this.setState((function(n){var o=Object(f.a)({},n),i=o.checked[e][t];return Object.keys(i).forEach((function(n){o.checked[e][t][n].checked=n===a})),o}))}},{key:"createCheckBox",value:function(e,t){var a=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null," ",e.name," "),Object.keys(e.options).map((function(n,i){return o.a.createElement("div",{key:i},o.a.createElement("input",{id:"OrdersRadio",type:"radio",checked:a.state.checked[t][e.name][n].checked,onChange:function(){return a.onChecked(t,e.name,n)}}),o.a.createElement("label",null," ",n," : +",e.options[n]))})))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.css.Orders},o.a.createElement("div",{className:this.css.OrdersLeftTable},Object.keys(this.state.tables).map((function(t,a){return o.a.createElement(x,{key:a,heading:t,onRowClick:e.onRowClick,cssClassName:"TableLeftButton",cols:e.page.tables[t].cols,data:e.state.tables[t]})}))),o.a.createElement("div",{className:this.css.OrdersRightTable},o.a.createElement(x,{heading:"Bill",footerText:"Total: ".concat(this.totalBill()),footerButton:"Generate Bill",onFooterButtonClick:this.onGenerateBill,cssClassName:"TableRightButton",onRowClick:this.onBillRowClick,cols:["ID","Name","Price","Options","Charges","Qty"],data:this.state.bill})),this.state.showpopup?o.a.createElement(q,{show:this.state.showpopup},o.a.createElement(U,null,o.a.createElement("button",{id:"OrdersPopUpClose",type:"button",class:"btn btn-danger",onClick:this.hideOptionsPopup}," Close "),o.a.createElement("button",{id:"OrdersAddToBill",type:"button",class:"btn btn-success",onClick:this.onAdd}," Add To Bill ")),o.a.createElement(L,null,Object.keys(this.state.options_lists).map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement("h1",{id:"OrdersPopUpHeading"},t),e.state.options_lists[t].map((function(n,i){return o.a.createElement("div",{id:"OrdersPopUpItems",key:"".concat(a).concat(i)}," ",e.createCheckBox(n,t)," ")})))})))):null,null)}}]),a}(o.a.Component),z=a(30),X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={stagedOption:{},data:S.a.cloneDeep(n.props.prefill)},n.parseOptions=n.parseOptions.bind(Object(c.a)(n)),n.onAddOptionsList=n.onAddOptionsList.bind(Object(c.a)(n)),n.onChange=n.onChange.bind(Object(c.a)(n)),n.onImageAdd=n.onImageAdd.bind(Object(c.a)(n)),n.onDeleteOption=n.onDeleteOption.bind(Object(c.a)(n)),n.validate=n.props.OnDataChanged,n.onPopupClose=n.props.onPopupClose,n.onDeleteStaged=n.onDeleteStaged.bind(Object(c.a)(n)),n.onStagedOptionChange=n.onStagedOptionChange.bind(Object(c.a)(n)),n.onDescriptionChange=n.onDescriptionChange.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"parseOptions",value:function(e){var t=Object.keys(e),a="";return t.forEach((function(t,n){a+="".concat(t,":").concat(e[t],";")})),a}},{key:"onImageAdd",value:function(e){var t=this,a=e.target.files[0],n=new FileReader,o="";n.onload=function(){o=n.result,console.log(o),t.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,{photo_url:o})})}))},n.readAsDataURL(a)}},{key:"onChange",value:function(e,t,a){var n=e.target,o=n.id,i=n.name;this.setState((function(e){if(!t.includes("option"))return Object(f.a)({},e,{data:Object(f.a)({},e.data,Object(b.a)({},t,n.value))});if("options_name"===t){var a=e.data.options_lists.map((function(e,t){var a=Object.keys(e)[0];return a===n.name?Object(b.a)({},n.value,Object(f.a)({},e[a])):e}));return Object(f.a)({},e,{data:Object(f.a)({},e.data,{options_lists:Object(V.a)(a)})})}if("option_list_value"===t){var s=S.a.cloneDeep(e),r=i.split("/"),l=Object(z.a)(r,3),c=l[0],u=l[1],d=l[2];return s.data[c][o][u][d]=n.value,s}}))}},{key:"clense",value:function(e){return e}},{key:"validate",value:function(){}},{key:"onDeleteOption",value:function(e,t,a){var n=this;console.log(e,t,a),this.setState((function(o){var i=Object(f.a)({},o);return delete i.data.options_lists[t][e][a],n.clense(i)}))}},{key:"onAddOptionsList",value:function(){this.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,{options_lists:[].concat(Object(V.a)(e.data.options_lists),[{"":{}}])})})}))}},{key:"onAddOption",value:function(e,t){this.setState((function(e){var a=S.a.cloneDeep(e);return a.stagedOption[t]={name:"",value:""},a}))}},{key:"onDeleteStaged",value:function(e){this.setState((function(t){var a=S.a.cloneDeep(t);return a.stagedOption[e]=!1,a}))}},{key:"onStagedOptionChange",value:function(e,t){var a=e.target,n=a.id,o=a.value;this.setState((function(e){var a=S.a.cloneDeep(e);return a.stagedOption[t][n]=o,a}))}},{key:"onNewOptionCommit",value:function(e,t){this.setState((function(a){var n=S.a.cloneDeep(a),o=a.stagedOption[t],i=o.name,s=o.value;return n.data.options_lists[e][t][i]=s,n.stagedOption[t]=!1,n}))}},{key:"onDescriptionChange",value:function(e){var t=e.target.value;this.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,{description:t})})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("button",{id:"AddItemFormDone",type:"button",class:"btn btn-success",onClick:function(){return e.onPopupClose("done",!S.a.isEqual(e.state.data,e.props.prefill),e.state.data)}}," Done "),o.a.createElement("button",{id:"AddItemFormCancel",type:"button",class:"btn btn-danger",onClick:function(){return e.onPopupClose("cancel")}}," Cancel "),o.a.createElement("br",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{id:"AddItemFormPrepend",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Name:"),o.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"item-name",onChange:function(t){return e.onChange(t,"name")},value:this.state.data.name}))),o.a.createElement("br",null),o.a.createElement("label",{id:"AddItemFormOptionList",htmlFor:"option_lists"},"Option Lists"),o.a.createElement("br",null),this.state.data.options_lists?this.state.data.options_lists.map((function(t,a){var n=Object.keys(t)[0],i=Object.keys(t[n]);return o.a.createElement("div",{key:a},o.a.createElement("div",{id:"AddItemFormPrepend",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},n),o.a.createElement("input",{className:"form-control",value:n,id:"options_name",type:"text",onChange:function(t){return e.onChange(t,"options_name")},name:n})),i.map((function(i,s){return o.a.createElement("div",{key:s},o.a.createElement("div",{id:"AddItemFormOptions",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},i),o.a.createElement("input",{className:"form-control",onChange:function(t){return e.onChange(t,"option_list_value",i)},value:t[n][i],id:a,min:"0",type:"number",name:"options_lists/".concat(n,"/").concat(i)}),o.a.createElement("button",{id:"AddItemFormMinus",type:"button",class:"btn btn-danger",onClick:function(){return e.onDeleteOption(n,a,i)}}," - ")))})),e.state.stagedOption[n]?o.a.createElement("div",{id:"AddItemFormAddOptionClicked"},o.a.createElement("div",{id:"AddItemFormOptions",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Name"),o.a.createElement("input",{className:"form-control",id:"name",type:"text",name:e.state.stagedOption[n].name,value:e.state.stagedOption[n].name,onChange:function(t){return e.onStagedOptionChange(t,n)}})),o.a.createElement("div",{id:"AddItemFormOptions",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Value"),o.a.createElement("input",{className:"form-control",id:"value",value:e.state.stagedOption[n].value,min:"0",type:"number",onChange:function(t){return e.onStagedOptionChange(t,n)},name:"stagedOption/value/"}),o.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){return e.onDeleteStaged(n)}}," - "),o.a.createElement("button",{type:"button",class:"btn btn-success",onClick:function(){return e.onNewOptionCommit(a,n)}}," commit "))):null,o.a.createElement("button",{id:"AddItemFormAddOption",type:"button",class:"btn btn-success",onClick:function(){return e.onAddOption(a,n)}}," Add Option "),o.a.createElement("button",{id:"AddItemFormPlus",class:"btn btn-success",onClick:e.onAddOptionsList},"+"))})):null,o.a.createElement("div",{id:"AddItemFormOptions",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Description"),o.a.createElement("textarea",{className:"form-control",onChange:this.onDescriptionChange,value:this.state.data.description,id:"description",type:"text",name:"description"}),o.a.createElement("br",null)),o.a.createElement("img",{id:"AddItemFormImage",src:this.state.data.photo_url,height:"100"}),o.a.createElement("input",{id:"AddItemFormImageButton",class:"form-control",type:"file",onChange:function(t){return e.onImageAdd(t)}}),o.a.createElement("div",{id:"AddItemFormOptions",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Price"),o.a.createElement("input",{class:"form-control",onChange:function(t){return e.onChange(t,"price")},value:this.state.data.price,id:"price",type:"text",name:"price"}),o.a.createElement("br",null)))}}]),a}(o.a.Component),Z=function(e){return o.a.createElement(q,{show:e.show},o.a.createElement(M,null,o.a.createElement("div",{id:"AddItemPopupHeading"},"Add an item")),o.a.createElement(L,null,o.a.createElement(X,{onPopupClose:e.onClose,prefill:e.prefill})))},$=function(e){return o.a.createElement(q,{show:e.show,onDataChanged:e.onDataChanged},o.a.createElement(M,null,o.a.createElement("div",{id:"DeletePopupHeading"},"Delete Item")),o.a.createElement(L,null,o.a.createElement("div",{id:"DeletePopupBody"},"Are you sure you want to Delete?")),o.a.createElement(U,null,o.a.createElement("div",{id:"PopupButtons"},o.a.createElement("button",{id:"DeletePopupCancel",type:"button",class:"btn btn-danger",onClick:function(){return e.onClose("cancel")}}," Close "),o.a.createElement("button",{id:"DeletePopupConfirm",type:"button",class:"btn btn-success",onClick:function(){return e.onClose("confirm")}}," Confirm "))))},ee={Mains:0,Extras:1,Drinks:2},te=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).css=pe.admin.css_classes,n.headingButton="Add",n.api="/admin/api/menu",n.tables=pe.admin.pages[n.props.id].tables,n.showPopup=n.showPopup.bind(Object(c.a)(n)),n.onPopupClose=n.onPopupClose.bind(Object(c.a)(n)),n.onAdd=n.onAdd.bind(Object(c.a)(n)),n.onDelete=n.onDelete.bind(Object(c.a)(n)),n.onRowClick=n.onRowClick.bind(Object(c.a)(n)),n.parse_data=n.parse_data.bind(Object(c.a)(n)),n.hidePopup=n.hidePopup.bind(Object(c.a)(n)),n.onDeletePopupClose=n.onDeletePopupClose.bind(Object(c.a)(n)),n.delete_item=n.delete_item.bind(Object(c.a)(n)),n.updateTables=n.updateTables.bind(Object(c.a)(n)),n.state={tables:{},pshow:{add:!1,delete:!1}},n}return Object(l.a)(a,[{key:"parse_data",value:function(e){return Object.keys(e).forEach((function(t){e[t]=Object.values(e[t])})),e}},{key:"updateTables",value:function(){var e=this;v(this.api,(function(t){e.setState((function(a){return Object(f.a)({},a,{tables:e.parse_data(t)})}))}))}},{key:"componentDidMount",value:function(){this.updateTables()}},{key:"showPopup",value:function(e,t,a){this.setState((function(n){var o=Object(f.a)({},n);return o.pshow[e]=!0,"delete"===e&&(o.staged_delete=[t,a]),o}))}},{key:"validate",value:function(e){}},{key:"delete_item",value:function(){var e=Object(z.a)(this.state.staged_delete,2),t=e[0],a=e[1],n=this.state.tables[t][a];g(this.api,Q.parseMenuBeforePush("delete",n)),this.updateTables(),this.setState((function(e){return Object(f.a)({},e,{staged_delete:[]})}))}},{key:"onDeletePopupClose",value:function(e){var t=this;this.hidePopup("delete"),this.setState((function(a){"confirm"===e&&t.delete_item(a.staged_delete)}))}},{key:"hidePopup",value:function(e){this.setState((function(t){var a=Object(f.a)({},t);return a.pshow[e]=!1,a}))}},{key:"onPopupClose",value:function(e,t,a){console.log("changed",t,a),this.hidePopup("add"),t&&(g(this.api,Q.parseMenuBeforePush(this.state.type,a)),this.updateTables())}},{key:"onDelete",value:function(e,t){this.showPopup("delete",e,t)}},{key:"onAdd",value:function(e){console.log(e),this.setState((function(t){var a={name:"",description:"",category:ee[e],options_lists:[{"":{}}],photo_url:"",price:""};return Object(f.a)({},t,{prefill:a,type:"add"})})),this.showPopup("add")}},{key:"onRowClick",value:function(e,t){this.setState((function(a){var n=a.tables[e][t];return Object(f.a)({},a,{staged_change:[e,t],prefill:n,type:"edit"})})),this.showPopup("add")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Menu"},o.a.createElement(Z,{show:this.state.pshow.add,onClose:this.onPopupClose,prefill:this.state.prefill}),o.a.createElement($,{show:this.state.pshow.delete,onClose:this.onDeletePopupClose}),o.a.createElement("div",{className:this.css.OrdersLeftTable},this.tables.map((function(t,a){return o.a.createElement(x,{key:a,heading:t.heading,headingButton:e.headingButton,onAdd:e.onAdd,rowButton:"Delete",cssClassName:"MenuButton",onRowClick:e.onRowClick,onHeadingButtonClick:e.onAdd,cols:t.cols,data:e.state.tables[t.heading],onRowButtonClick:e.onDelete})}))))}}]),a}(o.a.Component),ae=function(e){return""===e.name?o.a.createElement("select",{class:"custom-select",id:e.id,value:"Select",onChange:e.onItemChange},o.a.createElement("option",{key:-1,id:-1},"Select"),e.menu.map((function(e,t){return o.a.createElement("option",{key:t,id:t}," ",t,". ",e.name," ")}))):o.a.createElement("input",{id:"AddDealPopupDisabled",class:"form-control",type:"text",disabled:!0,value:e.name})},ne=function(e){return o.a.createElement("div",{id:"DealsPopupList"},o.a.createElement(ae,{itemID:e.itemID,id:e.id,new:e.new,menu:e.menu,onItemChange:e.onItemChange,name:e.name}),o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Quantity"),o.a.createElement("input",{className:"form-control",type:"number",id:e.id,name:"quantity",min:"1",value:e.qty,onChange:e.onChange})))},oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(r.a)(this,a),n=t.call(this,e);var o=S.a.cloneDeep(n.props.prefill);return n.state={deal:o},n.onChange=n.onChange.bind(Object(c.a)(n)),n.itemArray=function(e){var t=[];return Object.keys(e).forEach((function(a,n){var o=Object.values(e[a]).map((function(e,t){return e}));t=[].concat(Object(V.a)(t),Object(V.a)(o))})),t}(e.menu),n.onItemChange=n.onItemChange.bind(Object(c.a)(n)),n.onAdd=n.onAdd.bind(Object(c.a)(n)),n.onRemove=n.onRemove.bind(Object(c.a)(n)),n.onNameChange=n.onNameChange.bind(Object(c.a)(n)),n.onPriceChange=n.onPriceChange.bind(Object(c.a)(n)),n.onImageUpload=n.onImageUpload.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=(t.name,t.value),n=t.id;this.setState((function(e){var t=Object(f.a)({},e);return t.deal.items[n].quantity=a,t}))}},{key:"onItemChange",value:function(e){var t=e.target,a=t.id,n=t.value;if("None"!==n){var o=S.a.cloneDeep(this.itemArray[parseInt(n.split(".")[0])]);this.setState((function(e){var t=S.a.cloneDeep(e),n=-1,i=Object.values(t.deal.items).filter((function(e,t){return e.id===o.id&&(n=t,!0)}));return-1!==n?(i[0].quantity=parseInt(i[0].quantity)+1,t):(t.deal.items[a]=o,t.deal.items[a].quantity=1,console.log(t),t)}))}}},{key:"onAdd",value:function(e){var t=e.target.id;this.setState((function(e){var a=S.a.cloneDeep(e);return a.deal.items[t]={name:""},a}))}},{key:"onRemove",value:function(e){var t=e.target.id;console.log(t),this.setState((function(e){var a=S.a.cloneDeep(e);return a.deal.items=a.deal.items.filter((function(e,a){return a!=t})),console.log(a.deal.items),a}))}},{key:"onNameChange",value:function(e){var t=e.target.value;this.setState((function(e){return{deal:Object(f.a)({},e.deal,{name:t})}}))}},{key:"onImageUpload",value:function(e){var t=this,a=e.target.files[0],n=new FileReader,o="";n.onload=function(){o=n.result,console.log(o),t.setState((function(e){return{deal:Object(f.a)({},e.deal,{photo_url:o})}}))},n.readAsDataURL(a)}},{key:"onPriceChange",value:function(e){var t=e.target.value;this.setState((function(e){return{deal:Object(f.a)({},e.deal,{price:t})}}))}},{key:"render",value:function(){var e=this;return o.a.createElement(q,{show:this.props.show},o.a.createElement(M,null,o.a.createElement("div",{id:"AddDealPopupHeading"}," Add/Edit An Item ")," "),o.a.createElement(L,null,o.a.createElement("div",null,o.a.createElement("button",{id:"DealsPopupClose",type:"button",class:"btn btn-danger",onClick:function(){return e.props.onClose("cancel")}}," Close "),o.a.createElement("button",{id:"DealsPopupAdd",type:"button",class:"btn btn-success",onClick:function(){return e.props.onAdd(!S.a.isEqual(e.props.prefill,e.state.deal),e.state.deal,e.props.type)}}," Add "),o.a.createElement("div",{id:"DealsPopupName",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Deal Name"),o.a.createElement("input",{className:"form-control",type:"text",onChange:this.onNameChange,value:this.state.deal.name})),o.a.createElement("div",{id:"DealsPopupPrice",class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Price"),o.a.createElement("input",{className:"form-control",type:"number",onChange:this.onPriceChange,value:this.state.deal.price})),o.a.createElement("h4",{id:"AddDealPopupItems"}," Items "),this.state.deal.items.map((function(t,a){return o.a.createElement("div",{key:a},o.a.createElement("div",{id:"AddDealPopupMinus"},o.a.createElement("button",{type:"button",class:"btn btn-danger",id:a,onClick:e.onRemove}," - ")),o.a.createElement(ne,{new:!1,id:a,onItemChange:e.onItemChange,itemID:t.id,name:t.name,qty:t.quantity,onChange:e.onChange,menu:e.itemArray}))})),o.a.createElement("div",{id:"AddDealPopupPlus"},o.a.createElement("button",{type:"button",class:"btn btn-success",id:this.state.deal.items.length,onClick:this.onAdd}," + ")),o.a.createElement("br",null),o.a.createElement("img",{id:"AddDealPopupImage",height:"100",src:this.state.deal.photo_url}),o.a.createElement("br",null),o.a.createElement("input",{id:"AddDealPopupImageButton",className:"form-control",onChange:this.onImageUpload,type:"file"}))))}}]),a}(o.a.Component),ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).css=pe.admin.css_classes,n.headingButton="Add",n.api=pe.admin.pages[n.props.id].api,n.tables=pe.admin.pages[n.props.id].tables,n.showPopup=n.showPopup.bind(Object(c.a)(n)),n.onPopupClose=n.onPopupClose.bind(Object(c.a)(n)),n.onAdd=n.onAdd.bind(Object(c.a)(n)),n.onDelete=n.onDelete.bind(Object(c.a)(n)),n.onRowClick=n.onRowClick.bind(Object(c.a)(n)),n.parse_data=n.parse_data.bind(Object(c.a)(n)),n.hidePopup=n.hidePopup.bind(Object(c.a)(n)),n.onDeletePopupClose=n.onDeletePopupClose.bind(Object(c.a)(n)),n.onDealChanged=n.onDealChanged.bind(Object(c.a)(n)),n.updateTables=n.updateTables.bind(Object(c.a)(n)),n.state={tables:[],pshow:{add:!1,delete:!1}},n}return Object(l.a)(a,[{key:"updateTables",value:function(){var e=this;v("/admin/api/menu",(function(t){e.menu=t,v(e.api,(function(t){console.log(t),e.setState((function(a){return Object(f.a)({},a,{tables:e.parse_data(t)})}))}))}))}},{key:"componentDidMount",value:function(){this.updateTables()}},{key:"parse_data",value:function(e){var t={};return t.Deals=Object.values(e),t}},{key:"showPopup",value:function(e,t,a){this.setState((function(n){var o=Object(f.a)({},n);return o.pshow[e]=!0,"delete"===e&&(o.staged_delete=[t,a]),o}))}},{key:"validate",value:function(e){}},{key:"delete_item",value:function(){var e=Object(z.a)(this.state.staged_delete,2),t=e[0],a=e[1];console.log("deleting"),g("/admin/api/deals",Q.parseDealsBeforePush(this.state.tables[t][a],"delete")),this.updateTables(),this.setState((function(e){var t=Object(f.a)({},e);return delete t.staged_delete,t}))}},{key:"onDeletePopupClose",value:function(e){this.hidePopup("delete"),"confirm"===e&&this.delete_item(this.state.staged_delete)}},{key:"hidePopup",value:function(e){this.setState((function(t){var a=Object(f.a)({},t);return a.pshow[e]=!1,a}))}},{key:"onPopupClose",value:function(e){this.hidePopup("add"),console.log("action",e)}},{key:"onDelete",value:function(e,t){this.showPopup("delete",e,t)}},{key:"onAdd",value:function(){this.setState((function(e){return Object(f.a)({},e,{prefill:{name:"",description:"",items:[],photo_url:"",price:""},type:"add"})})),this.showPopup("add")}},{key:"onRowClick",value:function(e,t){this.setState((function(a){var n=a.tables[e][t];return Object(f.a)({},a,{prefill:n,type:"edit"})})),this.showPopup("add")}},{key:"onDealChanged",value:function(e,t,a){this.hidePopup("add"),e&&(g("/admin/api/deals",Q.parseDealsBeforePush(t,a)),this.updateTables())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Menu"},this.state.pshow.add?o.a.createElement(oe,{show:this.state.pshow.add,onClose:function(){return e.hidePopup("add")},onAdd:this.onDealChanged,prefill:this.state.prefill,menu:this.menu,type:this.state.type}):null,o.a.createElement($,{show:this.state.pshow.delete,onClose:this.onDeletePopupClose}),o.a.createElement("div",{className:this.css.OrdersLeftTable},Object.keys(this.state.tables).map((function(t,a){return o.a.createElement(x,{key:a,heading:"Deals",headingButton:e.headingButton,onAdd:e.onAdd,rowButton:"Delete",cssClassName:"TableLeftButton",onRowClick:e.onRowClick,onHeadingButtonClick:e.onAdd,cols:["ID","Name","Items","Image","Price"],data:e.state.tables[t],onRowButtonClick:e.onDelete})}))))}}]),a}(o.a.Component),se=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={photo_url:null},e.onImageUpload=e.onImageUpload.bind(Object(c.a)(e)),e}return Object(l.a)(a,[{key:"onImageUpload",value:function(e){var t=this,a=e.target.files[0],n=new FileReader,o="";n.onload=function(){o=n.result,console.log(o),t.setState((function(e){return Object(f.a)({},e,{photo_url:o})}))},n.readAsDataURL(a)}},{key:"render",value:function(){var e=this;return o.a.createElement(q,{show:this.props.show},o.a.createElement(M,null,o.a.createElement("div",{id:"GalleryHeadingPopup"}," Add An Image ")),o.a.createElement("button",{id:"GalleryPopupClose",type:"button",class:"btn btn-danger",onClick:function(){return e.props.onClose("cancel")}}," Close "),o.a.createElement("button",{id:"GalleryPopupAdd",type:"button",class:"btn btn-success",onClick:function(){return e.props.onAdd(null!==e.state.photo_url,e.state.photo_url)}}," Add "),o.a.createElement(L,null,o.a.createElement("img",{id:"GalleryImagePopup",alt:"",src:this.state.photo_url,height:this.props.imgHeight,width:this.props.imgWidth}),o.a.createElement("input",{className:"form-control",id:"GalleryImageUpload",type:"file",onChange:this.onImageUpload})))}}]),a}(o.a.Component),re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={data:[],pshow:{add:!1,delete:!1}},e.togglePopup=e.togglePopup.bind(Object(c.a)(e)),e.onDeleteClicked=e.onDeleteClicked.bind(Object(c.a)(e)),e.onDeletePopupClose=e.onDeletePopupClose.bind(Object(c.a)(e)),e.onAddClicked=e.onAddClicked.bind(Object(c.a)(e)),e.loadGallery=e.loadGallery.bind(Object(c.a)(e)),e.onImageAdded=e.onImageAdded.bind(Object(c.a)(e)),e.api="/admin/api/gallery",e}return Object(l.a)(a,[{key:"loadGallery",value:function(){var e=this;v(this.api,(function(t){e.setState((function(e){return Object(f.a)({},e,{data:t})}))}))}},{key:"componentDidMount",value:function(){this.loadGallery()}},{key:"onAddClicked",value:function(){this.togglePopup("add")}},{key:"onDeleteClicked",value:function(e,t){this.togglePopup("delete"),this.setState((function(e){return Object(f.a)({},e,{staged_delete:t})}))}},{key:"togglePopup",value:function(e){this.setState((function(t){return Object(f.a)({},t,{pshow:Object(b.a)({},e,!t.pshow[e])})}))}},{key:"onDeletePopupClose",value:function(e){this.togglePopup("delete"),"confirm"===e&&(g(this.api,{delete:this.state.data[this.state.staged_delete]}),this.setState((function(e){var t=Object(f.a)({},e);return delete t.staged_delete,t})),this.loadGallery())}},{key:"onImageAdded",value:function(e,t){this.togglePopup("add"),e&&(g(this.api,{add:{photo_url:t}}),this.loadGallery())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"GalleryContainer",class:"container"},o.a.createElement("div",{className:"Gallery"},o.a.createElement($,{show:this.state.pshow.delete,onClose:this.onDeletePopupClose}),o.a.createElement(se,{show:this.state.pshow.add,onClose:function(){return e.togglePopup("add")},onAdd:this.onImageAdded,menu:this.menu,type:this.state.type,imgHeight:250}),o.a.createElement(x,{heading:"Photos",headingButton:"Add",onAdd:this.onAddClicked,rowButton:"Delete",cssClassName:"TableLeftButton",onRowClick:function(){return null},cols:["ID","Image"],data:this.state.data,onRowButtonClick:this.onDeleteClicked,img_h:"250"})))}}]),a}(o.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={data:{heading:"",body:""}},e.originalData={},e.api="/admin/api/aboutus",e.loadData=e.loadData.bind(Object(c.a)(e)),e.onTextChange=e.onTextChange.bind(Object(c.a)(e)),e.onSave=e.onSave.bind(Object(c.a)(e)),e}return Object(l.a)(a,[{key:"loadData",value:function(){var e=this;v(this.api,(function(t){e.originalData=t,e.setState((function(e){return Object(f.a)({},e,{data:t})}))}))}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"onSave",value:function(e,t){e&&(g(this.api,{edit:t}),this.loadData())}},{key:"onTextChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,Object(b.a)({},a,n))})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"AboutUsMain",class:"container pt-3"},o.a.createElement("label",{id:"AboutUsHeading"}," Heading "),o.a.createElement("textarea",{class:"form-control",id:"heading",onChange:this.onTextChange,value:this.state.data.heading}),o.a.createElement("label",{id:"AboutUsBody"}," Body "),o.a.createElement("textarea",{class:"form-control",id:"body",onChange:this.onTextChange,value:this.state.data.body}),o.a.createElement("button",{id:"AboutUsButton",class:"btn btn-success",onClick:function(){return e.onSave(!S.a.isEqual(e.originalData,e.state.data),e.state.data)}}," Save Changes "))}}]),a}(o.a.Component),ce=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={data:{email:"",phone:"",address:""}},e.onChange=e.onChange.bind(Object(c.a)(e)),e.loadFromDB=e.loadFromDB.bind(Object(c.a)(e)),e.onSave=e.onSave.bind(Object(c.a)(e)),e.api="/admin/api/contactus",e}return Object(l.a)(a,[{key:"loadFromDB",value:function(){var e=this;v(this.api,(function(t){e.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},t)})}))}))}},{key:"componentDidMount",value:function(){this.loadFromDB()}},{key:"onChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,Object(b.a)({},a,n))})}))}},{key:"onSave",value:function(){g(this.api,this.state.data),this.loadFromDB()}},{key:"render",value:function(){return o.a.createElement("div",{id:"ContactUsMain",class:"container pt-3"},o.a.createElement("label",{id:"AboutUsHeading"}," Phone "),o.a.createElement("input",{class:"form-control",onChange:this.onChange,id:"phone",value:this.state.data.phone}),o.a.createElement("label",{id:"AboutUsHeading"}," Email "),o.a.createElement("input",{class:"form-control",onChange:this.onChange,id:"email",value:this.state.data.email}),o.a.createElement("label",{id:"AboutUsHeading"}," Address "),o.a.createElement("input",{class:"form-control",onChange:this.onChange,id:"address",value:this.state.data.address}),o.a.createElement("button",{id:"ContactUsButton",class:"btn btn-success",onClick:this.onSave}," Save Changes "))}}]),a}(o.a.Component),ue=a(19),de=o.a.forwardRef((function(e,t){var a=e.children,n=e.onClick;return o.a.createElement("div",{ref:t,onClick:function(e){e.preventDefault(),n(e)}},a)})),pe={admin:{pages:[{id:1,title:"Deliveries",component:P,path:"/admin/deliveries/pending",tabs:[{name:"Pending",path:"/admin/deliveries/pending",component:J,api:"/admin/api/orders?status=0",buttons:["Accept","Reject"],buttonscss:["btn btn-success","btn btn-danger"]},{name:"In Progress",path:"/admin/deliveries/inprogress",component:J,api:"/admin/api/orders?status=1",buttons:["Completed","Failed"],buttonscss:["btn btn-success","btn btn-danger"]},{name:"Completed",path:"/admin/deliveries/delivered",component:J,api:"/admin/api/orders?status=2",buttons:["Delivered","Failed"],buttonscss:["btn btn-success","btn btn-danger"]}]},{id:2,title:"Orders",component:Y,path:"/admin/orders",api:"/admin/api/orders",tables:{Mains:{cols:["ID","Name","Description","Image","Price"]},Deals:{cols:["ID","Name","Items","Image","Price"]},Drinks:{cols:["ID","Name","Description","Image","Price"]},Extras:{heading:"Extras",cols:["ID","Name","Description","Image","Price"]}}},{id:3,title:"Menu",component:te,path:"/admin/menu",api:"/api/menu",tables:[{heading:"Mains",cols:["ID","Name","Description","Image","Price"]},{heading:"Drinks",cols:["ID","Name","Description","Image","Price"]},{heading:"Extras",cols:["ID","Name","Description","Image","Price"]}]},{id:4,title:"Deals",component:ie,path:"/admin/deals",api:"/admin/api/deals"},{id:5,title:"Gallery",component:re,path:"/admin/gallery"},{id:6,title:"About Us",component:le,path:"/admin/aboutus"},{id:7,title:"Contact Us",component:ce,path:"/admin/contactus"},{id:8,title:"History",component:function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).page=pe.admin.pages[n.props.id],n.api=n.page.api,n.state={data:[],fdata:[],show:!1,filters:{time:{3600:!1,86400:!1,2592e3:!0},type:{local:!1,all:!0,delivery:!1},order:{o2n:!1,n2o:!0}}},n.onFilterChange=n.onFilterChange.bind(Object(c.a)(n)),n.handleMouseEnter=n.handleMouseEnter.bind(Object(c.a)(n)),n.handleMouseLeave=n.handleMouseLeave.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;v(this.api,(function(t){var a=function(e){return Object.values(e)}(t);e.setState((function(t){return Object(f.a)({},t,{data:a,fdata:e.applyFilters(a,e.state.filters)})}))}))}},{key:"checkBoxChange",value:function(e,t,a){Object.keys(e[t]).forEach((function(n){e[t][n]=n===a}))}},{key:"onFilterChange",value:function(e){var t=this,a=e.target,n=a.id,o=a.name;this.setState((function(e){var a=Object(f.a)({},S.a.cloneDeep(e));return t.checkBoxChange(a.filters,o,n),a.fdata=t.applyFilters(a.data,a.filters),a}))}},{key:"select",value:function(e){return Object.keys(e).filter((function(t){return e[t]}))[0]}},{key:"sortByTime",value:function(e,t){return e.sort((function(e,a){return t?e.time>a.time:e.time<a.time}))}},{key:"filterType",value:function(e,t){return e.filter((function(e){return"all"===t||_[e.type].toLowerCase()===t.toLowerCase()}))}},{key:"filterTime",value:function(e,t){return e.filter((function(e){return e.time>Date.now()-1e3*t}))}},{key:"applyFilters",value:function(e,t){var a=this.sortByTime(e,t.order.o2n);return a=this.filterType(a,this.select(t.type)),a=this.filterTime(a,parseInt(this.select(t.time)))}},{key:"handleMouseEnter",value:function(){this.setState((function(e){return Object(f.a)({},e,{show:!0})}))}},{key:"handleMouseLeave",value:function(){this.setState((function(e){return Object(f.a)({},e,{show:!1})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"History"},o.a.createElement(ue.a,{className:"DropDown"},o.a.createElement(ue.a.Toggle,{as:de,id:"dropdown-custom-components"},o.a.createElement("div",null,o.a.createElement("i",{class:"fas fa-filter fa-2x"}))),o.a.createElement(ue.a.Menu,{id:"HistoryDropDownMenu"},o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"order",id:"n2o",checked:this.state.filters.order.n2o}),o.a.createElement("label",null,"New to old")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"order",id:"o2n",checked:this.state.filters.order.o2n}),o.a.createElement("label",null,"Old to new")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"type",id:"local",checked:this.state.filters.type.local}),o.a.createElement("label",null,"Local only")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"type",id:"delivery",checked:this.state.filters.type.delivery}),o.a.createElement("label",null,"Delivery only")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"type",id:"all",checked:this.state.filters.type.all}),o.a.createElement("label",null,"All")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"time",id:"3600",checked:this.state.filters.time[3600]}),o.a.createElement("label",null,"Last 1 hour")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"time",id:"86400",checked:this.state.filters.time[86400]}),o.a.createElement("label",null,"Last 1 day")),o.a.createElement(ue.a.Item,{as:"button",className:"HistoryDropDownItem"},o.a.createElement("input",{className:"HistoryDropDownCheckBox",type:"checkbox",onChange:this.onFilterChange,name:"time",id:"2592000",checked:this.state.filters.time[2592e3]}),o.a.createElement("label",null,"Last 1 month")))),this.state.fdata?this.state.fdata.map((function(e,t){return o.a.createElement(H,{key:t,id:t,inputType:"button",data:e})})):null)}}]),a}(o.a.Component),path:"/admin/history",api:"/api/orders?status=3"},{id:9,title:"Settings",component:function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={data:{username:"mushtaq",password:"",newPassword1:"",newPassword2:"",minOrder:"",otime:"",ctime:"",photo_url:"https://i.ytimg.com/vi/L6yX6Oxy_J8/maxresdefault.jpg"},visible:!1},e.onImageUpload=e.onImageUpload.bind(Object(c.a)(e)),e.handleClick=e.handleClick.bind(Object(c.a)(e)),e.onSave=e.onSave.bind(Object(c.a)(e)),e.onChange=e.onChange.bind(Object(c.a)(e)),e.pullFromDB=e.pullFromDB.bind(Object(c.a)(e)),e.api="/admin/api/settings",e}return Object(l.a)(a,[{key:"pullFromDB",value:function(){var e=this;v(this.api,(function(t){e.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},t)})}))}))}},{key:"componentDidMount",value:function(){this.pullFromDB()}},{key:"onImageUpload",value:function(e){var t=this,a=e.target.files[0],n=new FileReader,o="";n.onload=function(){o=n.result,console.log(o),t.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,{photo_url:o})})}))},n.readAsDataURL(a)}},{key:"handleClick",value:function(){var e=this;this.setState({visible:!0},(function(){window.setTimeout((function(){e.setState({visible:!1})}),2e3)}))}},{key:"onChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){return Object(f.a)({},e,{data:Object(f.a)({},e.data,Object(b.a)({},a,n))})}))}},{key:"onSave",value:function(){this.state.newPassword1!==this.state.newPassword2&&console.log("not sending"),g(this.api,this.state.data)}},{key:"render",value:function(){return console.log(this.state.data),o.a.createElement("div",null,o.a.createElement("div",{className:"Marginer"}),o.a.createElement("div",{id:"AccountSettings",className:"container mt-5 pt-3 mb-5 pb-3"},o.a.createElement("h1",{id:"AccountSettingsHeading"},"Account Settings"),o.a.createElement("h2",null,"Change Username"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:this.state.data.username,className:"form-control",id:"username",onChange:this.onChange,type:"text",placeholder:"Username",required:!0})),o.a.createElement(C.a,{key:"left",placement:"left",overlay:o.a.createElement(j.a,{id:"tooltip-left"},"Password must be atleast ",o.a.createElement("strong",null,"8")," character long, having atleast ",o.a.createElement("strong",null,"one upper case character"),", ",o.a.createElement("strong",null,"one lower case character"),", and ",o.a.createElement("strong",null,"one digit"),".")},o.a.createElement("h2",null,"Change Password")),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:this.state.data.password,type:"password",onChange:this.onChange,className:"form-control",id:"password",placeholder:"Current Password",name:"passwords",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:this.state.data.newPassword1,className:"form-control",onChange:this.onChange,type:"password",id:"newPassword1",placeholder:"New Password",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{value:this.state.data.newPassword2,className:"form-control",onChange:this.onChange,type:"password",id:"newPassword2",placeholder:"Re-enter New Password",required:!0})),o.a.createElement("h1",null,"Resaurant Settings"),o.a.createElement("h2",null,"Change Timings"),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Opening")),o.a.createElement("input",{id:"SettingOpening",value:this.state.data.otime,className:"form-control",onChange:this.onChange,type:"time",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Closing")),o.a.createElement("input",{id:"SettingClosing",value:this.state.data.ctime,className:"form-control",onChange:this.onChange,type:"time",required:!0})),o.a.createElement("h2",null,"Minimum Order"),o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{class:"input-group-prepend"},o.a.createElement("span",{class:"input-group-text"},"Rs")),o.a.createElement("input",{id:"minOrder",value:this.state.data.minOrder,className:"form-control",onChange:this.onChange,type:"numbers",placeholder:"00"})),o.a.createElement("h2",null,"Site Banner"),o.a.createElement("img",{id:"AccountSettingsImage",className:"rounded",alt:"Uploaded Image",height:"200",src:this.state.data.photo_url}),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",id:"customFile",className:"custom-file-input",onChange:this.onImageUpload,name:"filename"}),o.a.createElement("label",{className:"custom-file-label",for:"customFile",value:this.state.data.photo_url},"Choose image file to upload")),o.a.createElement("button",{onClick:this.onSave,className:"btn mt-3 btn-dark"},"Save"),o.a.createElement(O.a,{variant:"success",show:this.state.visible},o.a.createElement("strong",null,"Changes Saved Succesfully!"))))}}]),a}(o.a.Component),path:"/admin/settings"},{id:10,component:function(e){return e.deAuth(),E.a.remove("session"),o.a.createElement(A.a,{to:"/login"})},path:"/admin/signout"}],navbar:{logo:"",left:[1,2,3,4,5,6,7],dropdown:{title:"Hi, Admin",options:[{name:"History",path:"/admin/history"},{name:"Settings",path:"/admin/settings"},{name:"Signout",path:"/admin/signout"}]}},css_classes:{Logo:"Logo",NavBar:"NavBar",NavBarElement:"NavBarElement",NavBarDropdown:"NavBarDropdown",Footer:"",Header:"Header",Deliveries:"Deliveries",DSubTabs:"DSubTabs",DSubTabElement:"DSubTabElement",DeliveriesSubTabs:"",Popup:"",DeliveriesSubTabClicked:"DeliveriesSubTabClicked",DeliveriesButtons:"DeliveriesButtons",DeliveriesContainer:"DeliveriesContainer",DeliveriesInfo:"DeliveriesInfo",NavBarDivider:"NavBarDivider",OrdersRightTable:"OrdersRightTable",Orders:"Orders",OrdersLeftTable:"OrdersLeftTable",TableHeadingAndButtonDiv:"TableHeadingAndButtonDiv",TableHeading:"TableHeading",TableAddButton:"TableAddButton",TableColumnHeadings:"TableColumnHeadings",TableBody:"TableBody",TableRow:"TableRow"}}},me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){console.log(e.target)}},{key:"render",value:function(){var e=this;return o.a.createElement(D.b,{to:pe.admin.pages[this.props.id].path},o.a.createElement("div",{className:pe.admin.css_classes.NavBarElement,onClick:function(t){return e.handleClick(t)}},this.props.name))}}]),a}(o.a.Component),he=function(){return o.a.createElement("div",{className:pe.admin.css_classes.NavBarDivider})},be=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={show:!1},a.handleMouseEnter=a.handleMouseEnter.bind(Object(c.a)(a)),a.handleMouseLeave=a.handleMouseLeave.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"handleMouseEnter",value:function(){this.setState((function(e){return Object(f.a)({},e,{show:!0})}))}},{key:"handleMouseLeave",value:function(){this.setState((function(e){return Object(f.a)({},e,{show:!1})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:pe.admin.css_classes.NavBarDropdown},this.props.title,o.a.createElement("img",{className:"DropDownArrow",onMouseEnter:this.handleMouseEnter,src:a(74),height:"15",width:"15",alt:"polygon"})),this.state.show?o.a.createElement("div",{className:"DropDownMenu",onMouseLeave:this.handleMouseLeave},o.a.createElement("div",{className:"DropDownElement"},this.props.options.map((function(t,a){return o.a.createElement(D.b,{key:a,to:t.path,deauth:e.props.deAuth}," ",t.name," ")})))):null)}}]),n}(o.a.Component),fe=function(){return o.a.createElement("div",{className:pe.admin.css_classes.Logo},o.a.createElement("img",{alt:"",src:a(75),height:"50",width:"50"}))},ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:pe.admin.css_classes.NavBar},o.a.createElement(fe,{className:pe.admin.css_classes.Logo}),pe.admin.navbar.left.map((function(e,t){return o.a.createElement(me,{key:t,id:t,name:pe.admin.pages[t].title})})),o.a.createElement(he,null),o.a.createElement(be,{title:pe.admin.navbar.dropdown.title,options:pe.admin.navbar.dropdown.options,deAuth:this.props.deAuth}))}}]),a}(o.a.Component),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:pe.admin.css_classes.Footer})}}]),a}(o.a.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={auth:!1},e.checkAuth=e.checkAuth.bind(Object(c.a)(e)),e.cookie=E.a.get("session"),e}return Object(l.a)(a,[{key:"checkAuth",value:function(e){return e}},{key:"componentDidMount",value:function(){this.checkAuth(this.cookie)&&this.setState({auth:!0})}},{key:"render",value:function(){var e=this;return this.state.auth?o.a.createElement(D.a,null,o.a.createElement(A.a,{to:"/admin/deliveries/pending"}),o.a.createElement("div",null,o.a.createElement(ve,null),pe.admin.pages.map((function(t,a){return console.log(t.path),o.a.createElement(A.d,{key:t.id},o.a.createElement(A.b,{path:"".concat(t.path),component:function(){return o.a.createElement(t.component,{id:a,deAuth:function(){return e.setState({auth:!1})}})}}))})),o.a.createElement(ge,null))):o.a.createElement(D.a,null,o.a.createElement("div",null,o.a.createElement(A.a,{to:"/admin/login"}),o.a.createElement(k,{setAuth:function(){return e.setState({auth:!0})},deAuth:function(){return e.setState({auth:!1})}})))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.4d7e22ac.chunk.js.map